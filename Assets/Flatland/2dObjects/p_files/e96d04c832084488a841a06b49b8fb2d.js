"use strict";var Brandmetrics;!function(c){var e=function(){function e(e,t){this.Polyfill();var o=new n(e);if(this._process=new i(e,o),!o.GetDoNotTrack()){var r=this;window._brandmetrics.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.Process(e),Array.prototype.push.apply(this,e)},this.Process(t)}}return e.prototype.Process=function(e){for(var t=0,o=e;t<o.length;t++){var r=o[t];this._process.Execute(r)}},e.prototype.Polyfill=function(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})},e}();c.Measure=e;var i=function(){function e(e,t){var i=this;this._surveys={},this.checkIabConsent=function(){window.__cmp?window.__cmp("getVendorConsents",[422],i.testcmp):i.loadQuerySurveys()},this.testcmp=function(e,t){if(t&&e.vendorConsents&&e.purposeConsents){var o=e.vendorConsents[422],r=e.purposeConsents[1];if(o&&r)return void i.loadQuerySurveys()}i._surveyCallback(!1,null)},this.loadQuerySurveys=function(){i._isConfigLoaded||u.InsertScript(""+i._client.GetConfigUrl())},this._surveys={},this._cookies=t,this._client=new c.Client(e),this._isConfigLoaded=void 0===e.LoadConfig||e.LoadConfig,this._surveyCallback=null,this._isConfigLoaded&&u.InsertScript(this._client.GetConfigUrl())}return e.prototype.Execute=function(e){try{this.ExecuteInternal(e)}catch(e){var t="Error in command: "+e;throw this._client.PostDiagnostics(t),new Error(t)}},e.prototype.ExecuteInternal=function(e){switch(e.cmd.toLowerCase()){case"_testmeasurement":var t=e.val;u.InsertScript(""+this._client.GetConfigUrl(t,!0));break;case"_forcesurvey":this._client._forced=!0,this._client._pixel=e.val,u.InsertScript(""+this._client.GetConfigUrl());break;case"_loadsurvey":this._isConfigLoaded||u.InsertScript(""+this._client.GetConfigUrl());break;case"_surveyconf":var o=e.val;if(!this._surveys.hasOwnProperty(o.mid)){var r=new c.Survey(this._client,o);this._surveys[o.mid]=r}break;case"_showsurveys":if(null===this._surveyCallback){var i=e.val;if(i)this._surveys[i].Show();else for(var n in this._surveys)this._surveys.hasOwnProperty(n)&&this._surveys[n].Show()}else for(var n in this._surveys)this._surveys.hasOwnProperty(n)&&this._surveyCallback(!0,{measurementId:n});break;case"_querysurvey":var s=e.val.callback;this.querySurvey(s);break;case"_addmetadata":var a=e.val;this._client._metaInfos.push(a);break;case"_closesurvey":this._surveys.surveyId.Close();break;case"_setdonottrack":this._cookies.SetDoNotTrackCookie(),this._client.CallOptout();break;default:throw new Error("Bad cmd "+e.cmd.toLowerCase())}},e.prototype.querySurvey=function(e){this._surveyCallback=e,this.checkIabConsent()},e}();c.Process=i;var u=function(){function e(){}return e.GetDeviceType=function(){var e=navigator.userAgent.toLowerCase();return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)?"tablet":/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard)/.test(e)?"phone":"desktop"},e.InsertScript=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var o=document.getElementsByTagName("script")[0];if(null==o||null==o.parentNode)throw new Error("can't find script tag");o.parentNode.insertBefore(t,o)},e.GetLocation=function(){var e=document.createElement("a");return e.href=this._d.location.href,e.host||""},e._d=document,e}();c.BrowserHelper=u;var n=function(){function e(e){this._doNotTrackCookieName="__bmdnt",this._cookieExpirationDays=void 0!==e.CookieExpirationDays?e.CookieExpirationDays:700,this._cookieDomain=void 0!==e.CookieDomain?e.CookieDomain:".brandmetrics.com",this.Clean()}return e.prototype.SetDoNotTrackCookie=function(){this.SetCookie(this._doNotTrackCookieName,"",this._cookieExpirationDays,this._cookieDomain)},e.prototype.GetDoNotTrack=function(){return null!=this.GetCookieValue(this._doNotTrackCookieName)},e.prototype.SetCookie=function(e,t,o,r,i){void 0===i&&(i=null),i=null==i?"/":i;var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var s="expires="+n.toUTCString();i="path="+i,r="domain="+r,document.cookie=e+"="+t+"; "+s+";"+i+";"+r},e.prototype.GetCookieValue=function(e){for(var t=e+"=",o=0,r=document.cookie.split(";");o<r.length;o++){var i=r[o];if(null!==(i=i.trim()).match(t))return i.substring(t.length,i.length)}return null},e.prototype.Clean=function(){for(var e=0,t=["__bmuid"];e<t.length;e++){var o=t[e];document.cookie=o+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},e}();c.CookieHelper=n}(Brandmetrics||(Brandmetrics={}));
"use strict";var Brandmetrics;!function(d){var t=function(){function t(t){this._baseUrl=void 0!==t.BaseUrl?t.BaseUrl:"https://collector.brandmetrics.com",this._siteId=t.SiteId,this._pixel=t.Pixel,this._metaInfos=[],this._isTest=void 0!==t.IsTest&&t.IsTest,this._mid=t.Mid,this._forced=!1,this._sendDiagnostics=void 0!==t.LogErrors&&t.LogErrors}return t.prototype.GetBaseUrl=function(){return this._baseUrl},t.prototype.SendAnswerData=function(t){this.SendDataToServer("survey/answer",t)},t.prototype.PostDiagnostics=function(t){if(this._sendDiagnostics){var e="";e+=this.AddParam("rnd",this.getRandomInt(1e3,1e7),!0,!0),e+=this.AddParam("msg",t),this.ExecuteServerCall("diagnostics",e)}},t.prototype.CallOptout=function(){if(void 0!==this._siteId){var t=this.AddParam("siteid",this._siteId);this.ExecuteServerCall("optout",t)}},t.prototype.ExecuteTracking=function(t){this.SendDataToServer("survey/info",t)},t.prototype.GetConfigUrl=function(t,e){void 0===t&&(t=null),void 0===e&&(e=!1);var i=this._baseUrl+"/survey/config.js?";return i+=this.AddParam("rnd",this.getRandomInt(1e3,1e7),!0,!0),i+=this.AddParam("pixel",this._pixel),i+=this.AddParam("siteid",this._siteId),i+=this.AddParam("toploc",d.BrowserHelper.GetLocation(),!this._siteId),i+=this.AddParam("dt",d.BrowserHelper.GetDeviceType()),i+=this.AddParam("test","true",e||this._isTest),i+=this.AddParam("forced","true",this._forced),i+=this.AddParam("mid",null==t?this._mid:t)},t.prototype.GetTemplateUrl=function(t){var e=this._baseUrl+"/template/"+t+".html?";return e+=this.AddParam("dt",d.BrowserHelper.GetDeviceType(),!0,!0),e+=this.AddParam("siteid",this._siteId),e+=this.AddParam("toploc",d.BrowserHelper.GetLocation(),!this._siteId),e+=this.AddParam("test","true",this._isTest)},t.prototype.SendDataToServer=function(t,e){var i="";i+=this.AddParam("rnd",this.getRandomInt(1e3,1e7),!0,!0),i+=this.AddParam("test","true",this._isTest),i+=this.AddParam("qdata",e),i+=this.AddParam("siteid",this._siteId),i+=this.AddParam("pixel",this._pixel),i+=this.AddParam("dt",d.BrowserHelper.GetDeviceType()),i+=this.AddParam("toploc",d.BrowserHelper.GetLocation());for(var r="",s=0,o=this._metaInfos;s<o.length;s++){var a=o[s];r+=this.AddParam(a.name,this.SafeToString(a.val))}i+=this.AddParam("meta",r,0<this._metaInfos.length),this.ExecuteServerCall(t,i)},t.prototype.ExecuteServerCall=function(t,e){(new Image).src=this._baseUrl+"/"+t+"?"+e},t.prototype.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.prototype.AddParam=function(t,e,i,r){return void 0===i&&(i=!0),void 0===r&&(r=!1),null!=e&&i?(r?"":"&")+t+"="+this.urlEncode(e.toString()):""},t.prototype.urlEncode=function(t){return"function"==typeof encodeURIComponent?encodeURIComponent(t):window.escape(t)},t.prototype.SafeToString=function(t){return null==t?"":t.toString()},t}();d.Client=t}(Brandmetrics||(Brandmetrics={})); 
var _brandmetrics = _brandmetrics || [];
(new Brandmetrics.Measure(
    {
        BaseUrl: "https://collector.brandmetrics.com",
        LoadConfig:false,
        LogErrors:false,
        
        
        SiteId: "e96d04c8-3208-4488-a841-a06b49b8fb2d",
        CookieExpirationDays: 700,
        CookieDomain: (typeof window !== "undefined" && typeof window.location !== "undefined" && typeof window.location.hostname !== "undefined") ? "." + window.location.hostname.split(".").slice(-2).join(".") : ".brandmetrics.com"
    }, _brandmetrics));

(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{288:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(9),i=n.n(a),o=n(1),r=n.n(o),s=n(0),c=n(10),d=n(103),l=n(36),u=n(51),p=new function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a;i()(this,e),r()(this,"dfpAdvertising",void 0),r()(this,"stickyTopBannerAd",void 0),r()(this,"articleBodyAdverts",void 0),r()(this,"articleAsideAdverts",void 0),r()(this,"carrotTrafficDriver",void 0),r()(this,"videoPreRolls",void 0),r()(this,"highMerch",void 0),r()(this,"thirdPartyTags",void 0),r()(this,"outbrain",void 0),r()(this,"commentAdverts",void 0),r()(this,"liveblogAdverts",void 0),r()(this,"paidforBand",void 0),r()(this,"asynchronous",void 0),r()(this,"adFree",void 0);var n=/[#&]noads(&.*)?$/.test(window.location.hash),a=/[#&]noadsaf(&.*)?$/.test(window.location.hash),o=/[?&]forceads(&.*)?$/.test(window.location.search),p=!n&&!u.a.isOff("adverts"),m=t.get("page.shouldHideAdverts")||"childrens-books-site"===t.get("page.section"),g=t.get("page.isMinuteArticle"),f="Article"===t.get("page.contentType"),h="Interactive"===t.get("page.contentType"),b=t.get("page.isLiveBlog"),v=t.get("page.isHosted"),y="Identity"===t.get("page.contentType")||"identity"===t.get("page.section"),w=t.get("switches"),k="wide"===Object(c.d)(),_=document.documentElement&&document.documentElement.classList.contains("has-sticky"),C=t.get("page.showNewRecipeDesign")&&t.get("tests.abNewRecipeDesign"),j=t.get("page.pageId","").includes("help/ng-interactive/2017/mar/17/contact-the-guardian-securely");this.adFree=!!a||Object(d.d)(),this.dfpAdvertising=o||w.commercial&&p&&!m&&!y,this.stickyTopBannerAd=!this.adFree&&!t.page.disableStickyTopBanner&&!_,this.articleBodyAdverts=this.dfpAdvertising&&!this.adFree&&!g&&f&&!b&&!v&&!C,this.carrotTrafficDriver=!this.adFree&&this.articleBodyAdverts&&t.get("switches.carrotTrafficDriver",!1)&&!t.get("page.isPaidContent"),this.videoPreRolls=this.dfpAdvertising&&!this.adFree,this.highMerch=this.dfpAdvertising&&!this.adFree&&!g&&!v&&!h&&!t.get("page.isFront")&&!C,this.thirdPartyTags=p&&!y&&!j,this.outbrain=this.dfpAdvertising&&!this.adFree&&w.outbrain&&!n&&!m&&f&&!t.get("page.isPreview")&&t.get("page.showRelatedContent")&&!(Object(l.m)()&&t.get("page.commentable")),this.commentAdverts=this.dfpAdvertising&&!this.adFree&&!g&&t.get("switches.enableDiscussionSwitch")&&t.get("page.commentable")&&(!b||k),this.liveblogAdverts=b&&this.dfpAdvertising&&!this.adFree,this.paidforBand=t.get("page.isPaidContent")&&!_}},299:function(e,t,n){"use strict";n.d(t,"n",function(){return p}),n.d(t,"w",function(){return m}),n.d(t,"l",function(){return g}),n.d(t,"m",function(){return f}),n.d(t,"j",function(){return h}),n.d(t,"k",function(){return b}),n.d(t,"e",function(){return v}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return w}),n.d(t,"a",function(){return k}),n.d(t,"f",function(){return _}),n.d(t,"d",function(){return C}),n.d(t,"h",function(){return j}),n.d(t,"g",function(){return P}),n.d(t,"i",function(){return O}),n.d(t,"t",function(){return B}),n.d(t,"r",function(){return x}),n.d(t,"u",function(){return A}),n.d(t,"o",function(){return I}),n.d(t,"s",function(){return L}),n.d(t,"p",function(){return S}),n.d(t,"v",function(){return E}),n.d(t,"q",function(){return M}),n.d(t,"x",function(){return T}),n.d(t,"y",function(){return R});var a=n(289),i=n.n(a),o=n(10),r=n(28),s=n(27),c=n(0),d=function(e,t){var n=new RegExp("".concat(t,"$"));return e.replace(n,"")},l=i()(function(){return Object(s.e)()}),u=function(e,t){return Boolean(e.find(function(e){return e[0]===t[0]&&e[1]===t[1]}))},p=function(e){return Object.keys(e).reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},{})},m=function(e){return function(e,t){var n=new RegExp("^".concat("dfp-ad--"));return e.replace(n,"")}(e)},g=function(){return"GB"===l()},f=function(){return["US","CA"].includes(l())},h=function(){return["AU","NZ"].includes(l())},b=function(){return!g()&&!f()&&!h()},v=function(e){return u(e,[300,250])},y=function(e){return u(e,[300,600])},w=function(e){return u(e,[728,90])},k=function(e){return u(e,[970,250])},_=function(e){return v(e)||y(e)},C=function(e){return w(e)||k(e)},j=function(e){return e.length>0?e.reduce(function(e,t){return e[0]>=t[0]&&e[1]>=t[1]?e:t}):null},P=function(){switch(Object(o.d)()){case"mobile":case"mobileMedium":case"mobileLandscape":case"phablet":return"M";case"tablet":return"T";case"desktop":case"leftCol":case"wide":default:return"D"}},O=function(e,t){var n=Math.ceil(e),a=Math.floor(t);return Math.floor(Math.random()*(a-n+1))+n},B=function(){return f()},x=function(){return!f()},A=function(){return f()},I=function(e){return v(e)},L=function(){return!f()&&!h()},S=function(){return h()||c.a.get("switches.prebidAppnexusUkRow")&&!f()||!!Object(r.e)().and},E=function(){return g()&&(c.a.get("page.isDev",!0)||1===O(1,10))},M=function(){return g()||b()},T=function(e){return d(e,"--mobile")},R=function(e){return d(e,"([2-9]|\\d{2,})")}},305:function(e,t,n){"use strict";n.d(t,"c",function(){return x}),n.d(t,"a",function(){return B}),n.d(t,"b",function(){return O});var a=n(33),i=n.n(a),o=n(0),r=n(3),s=n(10),c=n(27),d=n(8),l=n(28),u=n(318),p=n(36),m=n(343),g=n(121),f=n(288),h=n(296),b=n(299),v=n(144),y=n.n(v),w=n(289),k=n.n(w),_=n(345),C=n.n(_),j=n(348),P=n.n(j),O=k()(function(e){return Object(b.n)({sens:e.sens,pt1:e.url,pt2:e.edition,pt3:e.ct,pt4:e.p,pt5:e.k,pt6:e.su,pt7:e.bp,pt8:e.x,pt9:[e.gdncrm,e.pv,e.co,e.tn,e.slot].join("|")})}),B=k()(function(e){return t=O(e),y()(Object.keys(t).filter(function(e){return""!==t[e]&&null!==t[e]}).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return"".concat(e,"=").concat(t)}):"".concat(e,"=").concat(n)})).join(",");var t}),x=k()(function(){var e,t,n,a,b,v,y=o.a.get("page"),w=Object(g.b)(g.e),k=null!==w?{pa:w?"t":"f"}:{},_=f.a.adFree?{af:"t"}:{},j=Object.assign({sens:y.isSensitive?"t":"f",x:Object(u.a)(),pv:o.a.get("ophan.pageViewId"),bp:Object(s.d)(),at:Object(r.d)("adtest")||void 0,si:Object(p.m)()?"t":"f",gdncrm:Object(m.a)(),ab:(a=Object(h.c)(),b=[],v=function(e,t){if("string"==typeof t&&"notintest"!==t){var n="".concat(e,"-").concat(t);b.push(n.substring(0,40))}},Object.keys(a).forEach(function(e){var t=a[e];v(e,t.variant)}),o.a.tests&&Object.entries(o.a.tests).forEach(function(e){var t=i()(e,2),n=t[0],a=t[1];v(n,a)}),b),ref:([{id:"facebook",match:"facebook.com"},{id:"twitter",match:"t.co/"},{id:"reddit",match:"reddit.com"},{id:"google",match:"www.google"}].filter(function(e){return Object(s.e)().indexOf(e.match)>-1})[0]||{}).id,ms:(t=y.source,t?(n=t,n.replace(/[+\s]+/g,"-").toLowerCase()).replace(/&/g,"and").replace(/'/g,""):null),fr:(e=d.a.get("gu.alreadyVisited")||0,e<=5?e.toString():e>=6&&e<=9?"6-9":e>=10&&e<=15?"10-15":e>=16&&e<=19?"16-19":e>=20&&e<=29?"20-29":e>=30?"30plus":e.toString()),vl:y.videoDuration?(30*Math.ceil(y.videoDuration/30)).toString():void 0,cc:Object(c.e)(),s:y.section},y.sharedAdTargeting,k,_,C()(Object(l.d)(),["0p19G"])),O=P()(j,function(e){return Array.isArray(e)?e.length>0:e});return y.appNexusPageTargeting=B(O),y.pageAdTargeting=O,O})},317:function(e,t,n){var a=n(220);e.exports=function(e){return null!=e&&e.length?a(e,1):[]}},318:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var a=n(0),i=n(3),o=n(14),r=n(8),s=n(121),c=0,d=function e(){window.Krux?function(e){window.Krux("consent:set",e,function(t){if(t)switch(t.idv){case"no identifier found for user":case"user opted out via (optout or dnt)":break;default:var n=Object.keys(t).map(function(e){return"".concat(e," -> '").concat(t[e],"'")}).join(", "),a="KRUX: ".concat(n);Object(o.a)(new Error(a),{feature:"krux:consent:set",consentFlags:e})}})}(!1!==Object(s.b)(s.e)?{dc:!0,al:!0,tg:!0,cd:!1,sh:!1,re:!1}:{dc:!1,al:!1,tg:!1,cd:!1,sh:!1,re:!1}):c<20&&(c+=1,setTimeout(function(){e()},100))},l=function(){var e,t=!1!==Object(s.b)(s.e)?(e="kx".concat("segs"),r.a.getRaw(e)||Object(i.d)("".concat(e,"=([^;]*)"))||""):"";return t?t.split(","):[]},u={shouldRun:a.a.switches.krux,url:"//cdn.krxd.net/controltag?confid=JVZiE3vn",onLoad:function(){d()}}},321:function(e,t,n){var a=n(317),i=n(222),o=n(218);e.exports=function(e){return o(i(e,void 0,a),e+"")}},322:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(9),i=n.n(a),o=n(15),r=n.n(o),s=n(1),c=n.n(s),d=n(5),l=n(4),u=n.n(l),p=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i()(this,e),c()(this,"element",void 0),c()(this,"opts",void 0),c()(this,"offsetFromParent",void 0),c()(this,"lastMessage",void 0),this.element=t,this.opts=Object.assign({},{top:0,containInParent:!0,emitMessage:!1},n)}return r()(e,[{key:"init",value:function(){var e=this,t=this.element.parentElement;t&&(u.a.read(function(){e.offsetFromParent=e.element.getBoundingClientRect().top-t.getBoundingClientRect().top},this),d.a.on("window:throttledScroll",this.updatePosition.bind(this)),u.a.read(this.updatePosition,this))}},{key:"updatePosition",value:function(){var e=this,t=this.element.parentElement;if(t){var n,a,i,o=this.element.getBoundingClientRect(),r=t.getBoundingClientRect(),s=o.height;if(r.top+this.offsetFromParent>0)i=!1,n={top:""},a="unfixed";else{i=!0;var c=this.opts.containInParent&&r.bottom<=o.height?Math.floor(r.bottom-s-this.opts.top):this.opts.top;n={top:"".concat(c,"px")},a="fixed"}this.opts.emitMessage&&a&&a!==this.lastMessage&&(this.emitMessage(a),this.lastMessage=a),n&&u.a.write(function(){i?e.element.classList.add("is-sticky"):e.element.classList.remove("is-sticky"),Object.assign(e.element.style,n)},this)}}},{key:"emitMessage",value:function(e){d.a.emit("modules:".concat(this.element.id,":").concat(e))}}]),e}()},336:function(e,t,n){var a=n(315),i=n(342);e.exports=function(e,t){return e&&e.length?i(e,a(t,2)):[]}},345:function(e,t,n){var a=n(346),i=n(321)(function(e,t){return null==e?{}:a(e,t)});e.exports=i},346:function(e,t,n){var a=n(347),i=n(341);e.exports=function(e,t){return a(e,t,function(t,n){return i(e,n)})}},352:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var a=n(9),i=n.n(a),o=n(49),r=n.n(o),s=n(48),c=n.n(s),d=n(15),l=n.n(d),u=n(50),p=n.n(u),m=n(18),g=n.n(m),f=n(6),h=n(30),b=n(5),v=n(289),y=n.n(v),w=new Promise(function(e,t){b.a.on("modules:onward:geo-most-popular:ready",e),b.a.on("modules:onward:geo-most-popular:cancel",e),b.a.on("modules:onward:geo-most-popular:error",t)}),k=function(e){function t(){var e;return i()(this,t),(e=r()(this,c()(t).call(this))).endpoint="/most-read-geo.json",b.a.emit("register:begin","geo-most-popular"),e}return p()(t,e),l()(t,null,[{key:"error",value:function(e){b.a.emit("modules:onward:geo-most-popular:error",e)}}]),l()(t,[{key:"ready",value:function(){b.a.emit("register:end","geo-most-popular"),b.a.emit("modules:onward:geo-most-popular:ready",this)}}]),t}(h.a),_=function(e){e>1500&&(new k).fetch(g()(".js-components-container"),"rightHtml")},C={render:y()(function(){return f.a.read(function(){var e=document.querySelector(".js-article__body");return e?e.getBoundingClientRect()&&e.getBoundingClientRect().height:0}).then(_),w}),whenRendered:w}},458:function(e,t,n){var a=n(233),i=n(338),o=n(126),r=n(115),s=n(124),c=n(223),d=n(150),l=n(224),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(r(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(d(e))return!a(e).length;for(var n in e)if(u.call(e,n))return!1;return!0}},467:function(e,t){e.exports='<aside id="<%= data.id %>" class="frame" data-link-name="creative | frame">\n    <div class="frame__background">\n        <img class="frame__background-image" src="<%=data.backgroundImage%>">\n    </div>\n    <div class="frame__foreground">\n        <a href="<%=data.clickMacro%><%=data.destinationUrl%>" class="frame__link-background" data-link-name="image" target="<%=data.target%>"></a>\n        <a class="frame__logo frame__logo--<%=data.brandLogoPosition%>" href="<%=data.brandUrl%>" data-link-name="logo" target="<%=data.target%>">\n            <img class="frame__logo__image" src="<%=data.brandLogo%>">\n        </a>\n        <a style="color: <%=data.contentColour%>" class="frame__content frame__content--<%=data.contentVerticalPosition%> frame__content--<%=data.contentHorizontalPosition%>" href="<%=data.clickMacro%><%=data.destinationUrl%>" target="<%=data.target%>">\n            <h2 style="font-size: <%=data.headerFontSize%>px" class="frame__content-title"><%=data.header%></h2>\n            <p style="font-size: <%=data.textFontSize%>px" class="frame__content-text"><%=data.text%></p>\n        </a>\n        <a href="<%=data.clickMacro%><%=data.callToActionUrl%>" class="frame__cta frame__link button button--tertiary button--medium" data-link-name="call to action" target="<%=data.target%>">\n            <%=data.callToAction%><%=data.externalLinkIcon%>\n        </a>\n    </div>\n</aside>\n'},468:function(e,t){e.exports='<div class="gu-comlabel has-popup">\n\t<button class="u-button-reset gu-comlabel__btn popup__toggle" data-toggle="gu-compopup--<%=data.dataAttr%>"><%=data.buttonTitle%> <%=data.icon%></button>\n\t<div class="popup popup--default is-off gu-compopup gu-compopup--<%=data.dataAttr%> gu-stylebox">\n\t\t<h3 class="gu-compopup__title"><%=data.infoTitle%></h3>\n\t\t<p class="gu-compopup__text"><%=data.infoText%></p>\n\t\t<a class="gu-compopup__link" href="<%=data.infoLinkUrl%>" target="_blank"><%=data.infoLinkText%></a>\n\t</div>\n</div>\n'},469:function(e,t){e.exports='<%if (data.hasContainer) {%><div class="creative--fabric-v1-bg-container"><%}%>\n<%if (data.showLabel) {%>\n<div class="ad-slot__label creative--fabric-v1__label fc-container--layout-front">\n    <div class="fc-container__inner">Advertisement</div>\n</div>\n<%}%>\n<div id="<%= data.id %>" class="creative--fabric-v1 l-side-margins hide-until-tablet" style="\n    background-color: <%=data.backgroundColor%>;\n    background-image: url(<%=data.backgroundImage%>);\n    background-position: <%=data.backgroundPosition%>;\n    background-repeat: <%=data.backgroundRepeat%>;\n">\n    <%if (data.scrollbg) {%><%=data.scrollbg%><%}%>\n    <a href="<%=data.clickMacro%><%=data.link%>" target="_blank">\n        <div class="gs-container">\n            <%=data.video%>\n            <div class="fabric-v1_layer fabric-v1_layer1" style="\n            background-image: url(<%=data.layerOneBGImage%>);\n            background-position: <%=data.layerOneBGPosition%>;\n        "></div>\n            <div class="fabric-v1_layer fabric-v1_layer2" style="\n            background-image: url(<%=data.layerTwoBGImage%>);\n            background-position: <%=data.layerTwoBGPosition%>;\n        "></div>\n            <div class="fabric-v1_layer fabric-v1_layer3" style="\n            background-image: url(<%=data.layerThreeBGImage%>);\n            background-position: <%=data.layerThreeBGPosition%>;\n        "></div>\n        </div>\n    </a>\n</div>\n<div class="creative--fabric-v1 l-side-margins mobile-only" style="\n    background-color: <%=data.backgroundColor%>;\n    background-image: url(<%=data.backgroundImageM%>);\n    background-position: <%=data.backgroundPositionM%>;\n    background-repeat: <%=data.backgroundRepeatM%>;\n">\n    <%if (data.scrollbg) {%><%=data.scrollbg%><%}%>\n    <a href="<%=data.link%>" target="_blank">\n        <div class="gs-container">\n            <div class="fabric-v1_layer fabric-v1_layer1" style="\n            background-image: url(<%=data.layerOneBGImageM%>);\n            background-position: <%=data.layerOneBGPositionM%>;\n        "></div>\n            <div class="fabric-v1_layer fabric-v1_layer1" style="\n            background-image: url(<%=data.layerTwoBGImageM%>);\n            background-position: <%=data.layerTwoBGPositionM%>;\n        "></div>\n            <div class="fabric-v1_layer fabric-v1_layer1" style="\n            background-image: url(<%=data.layerThreeBGImageM%>);\n            background-position: <%=data.layerThreeBGPositionM%>;\n        "></div>\n        </div>\n    </a>\n</div>\n<%if (data.hasContainer) {%></div><%}%>\n'},470:function(e,t){e.exports='<iframe width="409px" height="230px" src="<%=videoURL%>?rel=0&amp;controls=0&amp;showinfo=0&amp;title=0&amp;byline=0&amp;portrait=0" frameborder="0" class="fluid250_video fluid250_video--desktop fluid250_video--vert-pos-<%=videoPositionV%> fluid250_video--horiz-pos-<%=videoPositionH%>" style="<%=position%>"></iframe>\n'},471:function(e,t){e.exports='<div class="ad-scrolling-bg" style="background-image: url(\'<%=backgroundImageP%>\'); background-position: 50% 0; background-repeat: <%=backgroundImagePRepeat%>"></div>\n'},472:function(e,t){e.exports='<div id="<%= data.id %>" class="creative--expandable creative--fabric-expanding-v1">\n    <div class="ad-slot__label adFullWidth__label facia-container--layout-front">\n        <div class="facia-container__inner">Advertisement</div>\n    </div>\n    <div class="ad-exp--expand l-side-margins mobile-only" style="background-color: <%=data.backgroundColor%>">\n        <div class="facia-container__inner facia-container__inner--full-span" style="background: url(\'<%=data.backgroundImageM%>\') <%=data.backgroundRepeatM%> <%=data.backgroundPositionM%>;">\n            <%=data.showPlus%>\n            <%=data.showArrow%>\n            <div class="ad-exp-collapse__slide slide-1" style="background: <%=data.slide1BGColor%> url(\'<%=data.slide1BGImageM%>\') <%=data.slide1BGImageRepeatM%> <%=data.slide1BGImagePositionM%>;">\n                <a href="<%=data.clickMacro%><%=data.link%>" target="_new">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide1Layer1BGImageM%>\') <%=data.slide1Layer1BGImageRepeatM%> <%=data.slide1Layer1BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide1Layer2BGImageM%>\') <%=data.slide1Layer2BGImageRepeatM%> <%=data.slide1Layer2BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide1Layer3BGImageM%>\') <%=data.slide1Layer3BGImageRepeatM%> <%=data.slide1Layer3BGImagePositionM%>;"></div>\n                </a>\n            </div>\n            <div class="ad-exp-collapse__slide slide-2" style="background: <%=data.slide2BGColor%> url(\'<%=data.slide2BGImageM%>\') <%=data.slide2BGImagePositionM%> <%=data.slide2BGImageRepeatM%>;">\n                <%=data.videoMobile%>\n                <a href="<%=data.clickMacro%><%=data.link%>" target="_new">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide2Layer1BGImageM%>\') <%=data.slide2Layer1BGImageRepeatM%> <%=data.slide2Layer1BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide2Layer2BGImageM%>\') <%=data.slide2Layer2BGImageRepeatM%> <%=data.slide2Layer2BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide2Layer3BGImageM%>\') <%=data.slide2Layer3BGImageRepeatM%> <%=data.slide2Layer3BGImagePositionM%>;"></div>\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="ad-exp--expand l-side-margins hide-until-tablet" style="background-color: <%=data.backgroundColor%>">\n        <%=data.scrollbg%>\n        <div class="facia-container__inner facia-container__inner--full-span" style="background: url(\'<%=data.backgroundImage%>\') <%=data.backgroundRepeat%> <%=data.backgroundPosition%>;">\n            <%=data.showPlus%>\n            <%=data.showArrow%>\n            <div class="ad-exp-collapse__slide slide-1" style="background: <%=data.slide1BGColor%> url(\'<%=data.slide1BGImage%>\') <%=data.slide1BGImageRepeat%> <%=data.slide1BGImagePosition%>;">\n                <a href="<%=data.clickMacro%><%=data.link%>" target="_new">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide1Layer1BGImage%>\') <%=data.slide1Layer1BGImageRepeat%> <%=data.slide1Layer1BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide1Layer2BGImage%>\') <%=data.slide1Layer2BGImageRepeat%> <%=data.slide1Layer2BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background : url(\'<%=data.slide1Layer3BGImage%>\') <%=data.slide1Layer3BGImageRepeat%> <%=data.slide1Layer3BGImagePosition%>;"></div>\n                </a>\n            </div>\n            <div class="ad-exp-collapse__slide slide-2" style="background: <%=data.slide2BGColor%> url(\'<%=data.slide2BGImage%>\') <%=data.slide2BGImagePosition%> <%=data.slide2BGImageRepeat%>;">\n                <%=data.videoDesktop%>\n                <a href="<%=data.clickMacro%><%=data.link%>" target="_new">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide2Layer1BGImage%>\') <%=data.slide2Layer1BGImageRepeat%> <%=data.slide2Layer1BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide2Layer2BGImage%>\') <%=data.slide2Layer2BGImageRepeat%> <%=data.slide2Layer2BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide2Layer3BGImage%>\') <%=data.slide2Layer3BGImageRepeat%> <%=data.slide2Layer3BGImagePosition%>;"></div>\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n'},473:function(e,t){e.exports='<iframe\n    width="<%=width%>"\n    height="<%=height%>"\n    src="<%=src%>"\n    frameborder="0"\n    class="<%=className%>"\n    style="<%=inlineStyle%>">\n</iframe>\n'},474:function(e,t,n){var a=n(390),i=n(145),o=n(475),r=n(321),s=n(303),c=r(function(e,t){return a(t,function(t){t=s(t),i(e,t,o(e[t],e))}),e});e.exports=c},475:function(e,t,n){var a=n(139),i=n(391),o=n(325),r=n(312),s=a(function(e,t,n){var a=1;if(n.length){var c=r(n,o(s));a|=32}return i(e,a,t,n,c)});s.placeholder={},e.exports=s},490:function(e,t){e.exports='<div id="<%= data.id %>" class="creative--expandable-video creative--expandable-video-v2 <%=data.videoOptions%>">\n\n    <div class="ad-slot__label adFullWidth__label facia-container--layout-front">\n        <div class="facia-container__inner">Advertisement</div>\n    </div>\n\n    <div class="ad-exp--expand l-side-margins mobile-only" style="background: <%=data.backgroundColor%> url(\'<%=data.backgroundImageM%>\') <%=data.backgroundRepeatM%> <%=data.backgroundPositionM%>">\n        <div class="slide-container">\n            <div class="ad-exp-collapse__slide slide-1" style="background: <%=data.slide1BGColor%> url(\'<%=data.slide1BGImageM%>\') <%=data.slide1BGImageRepeatM%> <%=data.slide1BGImagePositionM%>;">\n                <div class="ad-exp__open">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide1Layer1BGImageM%>\') <%=data.slide1Layer1BGImageRepeatM%> <%=data.slide1Layer1BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide1Layer2BGImageM%>\') <%=data.slide1Layer2BGImageRepeatM%> <%=data.slide1Layer2BGImagePositionM%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide1Layer3BGImageM%>\') <%=data.slide1Layer3BGImageRepeatM%> <%=data.slide1Layer3BGImagePositionM%>;"></div>\n                </div>\n            </div>\n            <div class="ad-exp-collapse__slide slide-2" style="background: <%=data.slide2BGColor%> url(\'<%=data.slide2BGImageM%>\') <%=data.slide2BGImagePositionM%> <%=data.slide2BGImageRepeatM%>;">\n                <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide2Layer1BGImageM%>\') <%=data.slide2Layer1BGImageRepeatM%> <%=data.slide2Layer1BGImagePositionM%>;"></div>\n                <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide2Layer2BGImageM%>\') <%=data.slide2Layer2BGImageRepeatM%> <%=data.slide2Layer2BGImagePositionM%>;"></div>\n                <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide2Layer3BGImageM%>\') <%=data.slide2Layer3BGImageRepeatM%> <%=data.slide2Layer3BGImagePositionM%>;"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="ad-exp--expand l-side-margins hide-until-tablet" style="background: <%=data.backgroundColor%> url(\'<%=data.backgroundImage%>\') <%=data.backgroundRepeat%> <%=data.backgroundPosition%>">\n        <div class="slide-container" style="">\n            <div class="ad-exp-collapse__slide slide-1" style="background: <%=data.slide1BGColor%> url(\'<%=data.slide1BGImage%>\') <%=data.slide1BGImageRepeat%> <%=data.slide1BGImagePosition%>;">\n                <div class="ad-exp__open">\n                    <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide1Layer1BGImage%>\') <%=data.slide1Layer1BGImageRepeat%> <%=data.slide1Layer1BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide1Layer2BGImage%>\') <%=data.slide1Layer2BGImageRepeat%> <%=data.slide1Layer2BGImagePosition%>;"></div>\n                    <div class="ad-exp__layer ad-exp__layer3" style="background : url(\'<%=data.slide1Layer3BGImage%>\') <%=data.slide1Layer3BGImageRepeat%> <%=data.slide1Layer3BGImagePosition%>;"></div>\n                </div>\n            </div>\n            <div class="ad-exp-collapse__slide slide-2" style="background: <%=data.slide2BGColor%> url(\'<%=data.slide2BGImage%>\') <%=data.slide2BGImagePosition%> <%=data.slide2BGImageRepeat%>;">\n                <div class="ad-exp__layer ad-exp__layer1" style="background: url(\'<%=data.slide2Layer1BGImage%>\') <%=data.slide2Layer1BGImageRepeat%> <%=data.slide2Layer1BGImagePosition%>;"></div>\n                <div class="ad-exp__layer ad-exp__layer2" style="background: url(\'<%=data.slide2Layer2BGImage%>\') <%=data.slide2Layer2BGImageRepeat%> <%=data.slide2Layer2BGImagePosition%>;"></div>\n                <div class="ad-exp__layer ad-exp__layer3" style="background: url(\'<%=data.slide2Layer3BGImage%>\') <%=data.slide2Layer3BGImageRepeat%> <%=data.slide2Layer3BGImagePosition%>;"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="slide-video">\n        <div class="slide-container">\n            <a href="<%=data.clickMacro%><%=data.link%>" target="_blank" class="video-container__cta"></a>\n            <div class="video-container__inner">\n                <%=data.videoEmbed%>\n            </div>\n            <%=data.mobileCTA%>\n            <%=data.desktopCTA%>\n        </div>\n    </div>\n\n    <%=data.showPlus%>\n    <%=data.showArrow%>\n</div>\n'},491:function(e,t){e.exports='<a class="creative__cta creative__cta--position-<%=position%> <%=media%>" href="<%=link%>" target="_blank"><img src="<%=image%>" alt></a>\n'},492:function(e,t){e.exports='<div id="<%= data.id %>" class="creative creative--fabric-video">\n    <a class="creative__link" href="<%=data.clickMacro%><%=data.Link%>" target="_blank">\n        <div class="creative__alt creative__alt--tablet hide-until-tablet"  style="background-color:<%=data.Backgroundcolour%>;background-image:url(<%=data.Backgroundimage%>);background-position:<%=data.Backgroundposition%>;background-repeat:<%=data.Backgroundrepeat%>;">\n            <%=data.posterTablet%>\n            <%=data.video%>\n            <div class="creative__layer creative__layer1" style="background-image:url(<%=data.Layer1backgroundimage%>);background-position: <%=data.Layer1backgroundimageposition%>;"></div>\n            <div class="creative__layer creative__layer2">\n                <div style="background-image:url(<%=data.Layer2animatedimage1%>)" class="creative__slide creative__slide1"></div>\n                <div style="background-image:url(<%=data.Layer2animatedimage2%>)" class="creative__slide creative__slide2"></div>\n                <div style="background-image:url(<%=data.Layer2animatedimage3%>)" class="creative__slide creative__slide3"></div>\n                <div style="background-image:url(<%=data.Layer2animatedimage4%>)" class="creative__slide creative__slide4">\n                    <%if (data.Layer2clickbutton){%>\n                        <img src="<%=data.Layer2clickbutton%>" class="click_button"></div>\n                    <%}%>\n                </div>\n            </div>\n            <div class="creative__layer creative__layer3" style="background-image:url(<%=data.Layer3backgroundimage%>);background-position: <%=data.Layer3backgroundimageposition%>;"></div>\n        </div>\n\n        <div class="creative__alt creative__alt--mobile mobile-only" style="background-color:<%=data.Backgroundcolour%>;background-image: url(<%=data.BackgroundImagemobile%>);background-position:<%=data.BackgroundImagemobileposition%>;background-repeat:<%=data.Backgroundimagemobilerepeat%>;">\n            <%=data.posterMobile%>\n            <div class="creative__layer creative__layer1" style="background-image:url(<%=data.Layer1backgroundimagemobile%>);background-position:<%=data.Layer1backgroundimagepositionmobile%>;"></div>\n            <div class="creative__layer creative__layer2" style="background-image:url(<%=data.Layer2backgroundimagemobile%>);background-position:<%=data.Layer2backgroundimagepositionmobile%>;"></div>\n            <div class="creative__layer creative__layer3" style="background-image:url(<%=data.Layer3backgroundimagemobile%>);background-position:<%=data.Layer3backgroundimagepositionmobile%>;"></div>\n        </div>\n    </a>\n</div>\n'},493:function(e,t,n){void 0!==e.exports&&(e.exports=function(e){"use strict";var t=new Image,n="object-fit"in t.style,a="object-position"in t.style,i=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g;function o(e){for(var t=getComputedStyle(e).fontFamily,n=null,a={};null!==(n=i.exec(t));)a[n[1]]=n[2];return a["object-position"]?function(e){return~e["object-position"].indexOf("left")?e["object-position-x"]="left":~e["object-position"].indexOf("right")?e["object-position-x"]="right":e["object-position-x"]="center",~e["object-position"].indexOf("top")?e["object-position-y"]="top":~e["object-position"].indexOf("bottom")?e["object-position-y"]="bottom":e["object-position-y"]="center",e}(a):a}function r(e,t){if("fill"!==t["object-fit"]){var n=e.style,a=window.getComputedStyle(e),i=document.createElement("object-fit");i.appendChild(e.parentNode.replaceChild(i,e));var o={height:"100%",width:"100%",boxSizing:"content-box",display:"inline-block",overflow:"hidden"};for(var r in"backgroundColor backgroundImage borderColor borderStyle borderWidth bottom fontSize lineHeight left opacity margin position right top visibility".replace(/\w+/g,function(e){o[e]=a[e]}),o)i.style[r]=o[r];n.border=n.margin=n.padding=0,n.display="block",n.opacity=1,e.addEventListener("loadedmetadata",s),window.addEventListener("optimizedResize",s),e.readyState>=1&&(e.removeEventListener("loadedmetadata",s),s())}function s(){var a=e.videoWidth/e.videoHeight,o=i.clientWidth,r=i.clientHeight,s=o/r,c=0,d=0;n.marginLeft=n.marginTop=0,(a<s?"contain"===t["object-fit"]:"cover"===t["object-fit"])?(c=r*a,d=o/a,n.width=Math.round(c)+"px",n.height=r+"px","left"===t["object-position-x"]?n.marginLeft=0:"right"===t["object-position-x"]?n.marginLeft=Math.round(o-c)+"px":n.marginLeft=Math.round((o-c)/2)+"px"):(d=o/a,n.width=o+"px",n.height=Math.round(d)+"px","top"===t["object-position-y"]?n.marginTop=0:"bottom"===t["object-position-y"]?n.marginTop=Math.round(r-d)+"px":n.marginTop=Math.round((r-d)/2)+"px"),e.autoplay&&e.play()}}n&&a||(function(e){var t=-1;e?"length"in e||(e=[e]):e=document.querySelectorAll("video");for(;e[++t];){var n=o(e[t]);(n["object-fit"]||n["object-position"])&&(n["object-fit"]=n["object-fit"]||"fill",r(e[t],n))}}(e),function(e,t,n){n=n||window;var a=!1,i=null;try{i=new CustomEvent(t)}catch(e){(i=document.createEvent("Event")).initEvent(t,!0,!0)}n.addEventListener("resize",function(){a||(a=!0,requestAnimationFrame(function(){n.dispatchEvent(i),a=!1}))})}(0,"optimizedResize"))})},494:function(e,t){e.exports='<div class="fc-container fc-container--<%=widgetType%> hide-on-childrens-books-site js-<%=widgetType%>">\n    <div class="fc-container__inner js-<%=widgetType%>-container"></div>\n</div>\n'},626:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(120),o=n(46),r=n(14),s=n(6),c=n(1),d=n.n(c),l=function(e,t){return Object.freeze({width:e,height:t,toString:function(){return e===t&&0===t?"fluid":"".concat(e,",").concat(t)}})},u={billboard:l(970,250),leaderboard:l(728,90),mpu:l(300,250),halfPage:l(300,600),portrait:l(300,1050),skyscraper:l(160,600),fluid:l(0,0),outOfPage:l(1,1),googleCard:l(300,274),video:l(620,1),outstreamDesktop:l(620,350),outstreamMobile:l(300,197),merchandisingHighAdFeature:l(88,89),merchandisingHigh:l(88,87),merchandising:l(88,88),inlineMerchandising:l(88,85),fabric:l(88,71),empty:l(2,2)};u["970x250"]=u.billboard,u["728x90"]=u.leaderboard,u["300x250"]=u.mpu,u["300x600"]=u.halfPage,u["300x1050"]=u.portrait,u["160x600"]=u.skyscraper;var p={sizeMappings:{mobile:[u.outOfPage,u.empty,u.outstreamMobile,u.mpu,u.googleCard,u.fluid],desktop:[u.outOfPage,u.empty,u.mpu,u.video,u.outstreamDesktop,u.googleCard,u.fluid]}},m={im:{label:!1,refresh:!1,sizeMappings:{mobile:[u.outOfPage,u.empty,u.inlineMerchandising,u.fluid]}},"high-merch":{label:!1,refresh:!1,name:"merchandising-high",sizeMappings:{mobile:[u.outOfPage,u.empty,u.merchandisingHigh,u.fluid]}},"high-merch-lucky":{label:!1,refresh:!1,name:"merchandising-high-lucky",sizeMappings:{mobile:[u.outOfPage,u.empty,u.fluid]}},"high-merch-paid":{label:!1,refresh:!1,name:"merchandising-high",sizeMappings:{mobile:[u.outOfPage,u.empty,u.merchandisingHighAdFeature,u.fluid]}},inline:p,mostpop:p,comments:p,"top-above-nav":{sizeMappings:{mobile:[u.outOfPage,u.empty,u.fabric,u.outstreamMobile,u.mpu,u.fluid]}},carrot:{label:!1,refresh:!1,name:"carrot",sizeMappings:{mobile:[u.fluid]}},epic:{label:!1,refresh:!1,name:"epic",sizeMappings:{mobile:[u.fluid]}}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},a=m[e],i=t.name||a.name||e,o=t.classes?t.classes.split(" ").map(function(e){return"ad-slot--".concat(e)}):[],r=Object.assign({},a.sizeMappings);return t.sizes&&Object.keys(t.sizes).forEach(function(e){r[e]?r[e]=r[e].concat(t.sizes[e]):r[e]=t.sizes[e]}),Object.keys(r).forEach(function(e){r[e]=r[e].join("|")}),Object.assign(n,r),!1===a.label&&(n.label="false"),!1===a.refresh&&(n.refresh="false"),o.push("ad-slot--".concat(i)),function(e,t,n){var a=[],i=document.createElement("div");return i.id="dfp-ad--".concat(e),i.className="js-ad-slot ad-slot ".concat(n.join(" ")),i.setAttribute("data-link-name","ad slot ".concat(e)),i.setAttribute("data-name",e),i.setAttribute("aria-hidden","true"),Object.keys(t).forEach(function(e){i.setAttribute(e,t[e])}),a.push(i),a}(i,Object.keys(n).reduce(function(e,t){return Object.assign({},e,d()({},"data-".concat(t),n[t]))},{}),o)},f=n(288),h=n(33),b=n.n(h),v=n(12),y=n(5),w=(n(2),n(10)),k=n(314),_=n(28),C={renderStartTime:-1,adSlotSelector:".js-ad-slot",externalDemand:a.a.get("page.hbImpl"),lazyLoadEnabled:!1,lazyLoadObserve:"IntersectionObserver"in window,creativeIDs:[],advertIds:{},advertsToLoad:[],advertsToRefresh:[],adverts:[],shouldLazyLoad:function(){return!a.a.get("page.hasPageSkin")&&"1"!==Object(_.d)().dll}},j=n(25),P=n.n(j),O=n(9),B=n.n(O),x=n(15),A=n.n(x),I=n(336),L=n.n(I),S=n(317),E=n.n(S),M=n(289),T=n.n(M),R=n(168),D=n(135),F=["politics","world","business","commentisfree"],G={defaults:{news:{mobile:{code:"MB_4"},desktop:{image:"AR_12",text:"AR_14"},tablet:{image:"MB_6",text:"MB_8"}},defaults:{mobile:{code:"MB_5"},desktop:{image:"AR_13",text:"AR_15"},tablet:{image:"MB_7",text:"MB_9"}}},merchandising:{mobile:{code:"MB_10"},desktop:{code:"AR_28"},tablet:{code:"MB_11"}},nonCompliant:{mobile:{code:"MB_10"},desktop:{code:"AR_28"},tablet:{code:"MB_11"}}},z={defaults:"defaults",merchandising:"nonCompliant",nonCompliant:"nonCompliant"},V={defaults:{desktop:{code:"AR_12"},tablet:{code:"AR_12"},mobile:{code:"MB_4"}},epic:{desktop:{code:"AR_13"},tablet:{code:"AR_13"},mobile:{code:"MB_5"}},nonCompliant:{desktop:{code:"AR_14"},tablet:{code:"AR_14"},mobile:{code:"MB_10"}}},N=function(e,t){var n=V[e];if(!n)throw new Error("Unknown outbrain param set  (".concat(e,")"));var a=n[t];if(!a)throw new Error("Unknown outbrain breakpoint (".concat(t,")"));return{code:a.code}},H=n(16),U=n.n(H),q=function(e){var t=e.widgetCode;return'\n    <div class="OUTBRAIN" data-widget-id="'.concat(t,'" data-ob-template="guardian" aria-hidden="true"></div>\n    ')},$={outbrain:{widget:".js-outbrain",container:".js-outbrain-container"},merchandising:{widget:".js-container--commercial",container:".js-outbrain-container"},nonCompliant:{widget:".js-outbrain",container:".js-outbrain-container"}},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e&&e in $?e:"defaults",i=Object(v.a)($.outbrain.widget),o=Object(v.a)($.outbrain.container,i[0]),r=Object(w.d)(),c=a.a.get("switches.commercialOutbrainNewids",!1)?function(e){var t=z[e.outbrainType];if(!t)throw new Error("Unknown outbrainType (".concat(e.outbrainType,")"));var n="wide"===e.breakpoint?"desktop":e.breakpoint;return N("defaults"===t?"defaults":"nonCompliant"===t&&e.contributionEpicVisible?"epic":"nonCompliant",n)}({outbrainType:n,contributionEpicVisible:t,section:a.a.get("page.section",""),breakpoint:r}):function(e){var t,n,a="wide"===e.breakpoint?"desktop":e.breakpoint;return e.outbrainType in G&&"defaults"!==e.outbrainType?"nonCompliant"===e.outbrainType?G.nonCompliant[a]:G.merchandising[a]:G.defaults[(t=e.section,n=t.toLowerCase(),/news/.test(n)||F.includes(n)?"news":"defaults")][a]}({outbrainType:n,section:a.a.get("page.section",""),breakpoint:r}),d=function(e,t){var n=q({widgetCode:e.code||e.image||""});return"mobile"!==t&&e.text&&(n+=q({widgetCode:e.text})),n}(c,r);return o.length?s.a.write(function(){"merchandising"===n&&Object(v.a)($.merchandising.widget).replaceWith(i[0]),o.append(d),i.css("display","block")}).then(function(){var e;e={widgetId:c.code||c.image},U.a.record({outbrain:e}),Object(D.a)("//widgets.outbrain.com/outbrain.js")}):Promise.resolve()},Q=function(){return Promise.all([Object(R.c)("isOutbrainDisabled"),w.a.then(function(e){return!document.getElementById("dfp-ad--merchandising-high")||!!e}),Object(R.c)("isUserInContributionsAbTest"),Object(R.c)("isStoryQuestionsOnPage")]).then(function(e){var t=b()(e,5);return{outbrainEnabled:!t[0],noMerchSlotsExpected:t[1],contributionsTestVisible:t[2],emailTestVisible:t[3],storyQuestionsVisible:t[4]}})},Y=function(){return Q().then(function(e){if(e.outbrainEnabled){var t=e.contributionsTestVisible,n=t||e.emailTestVisible||e.storyQuestionsVisible;if(!e.noMerchSlotsExpected)return Promise.all([Object(R.c)("isOutbrainBlockedByAds"),Object(R.c)("isOutbrainMerchandiseCompliant")]).then(function(e){var t=b()(e,2);return{blockedByAds:t[0],useMerchandiseAdSlot:t[1]}}).then(function(e){e.blockedByAds||(e.useMerchandiseAdSlot?W("merchandising"):n?W("nonCompliant",t):W("defaults"))});n?W("nonCompliant",t):W("defaults")}})},J=T()(function(){var e=Object(_.d)();return e["ad-unit"]?"/".concat(a.a.get("page.dfpAccountId"),"/").concat(e["ad-unit"]):a.a.get("page.adUnit")}),K=function(e,t){var n,i,o=e.getAttribute("data-name"),r=function(e){var t=function(e){var t=window.googletag.sizeMapping();return w.c.filter(function(t){return t.name in e}).forEach(function(n){t.addSize([n.width,0],e[n.name])}),t.build()}(e);return{sizeMapping:t,sizes:L()(E()(t.map(function(e){return e[1]})),function(e){return"".concat(e[0],"-").concat(e[1])})}}(t),s=e.id;if(e.getAttribute("data-out-of-page")?(n=window.googletag.defineOutOfPageSlot(J(),s).defineSizeMapping(r.sizeMapping),i=Promise.resolve()):(n=window.googletag.defineSlot(J(),r.sizes,s).defineSizeMapping(r.sizeMapping),"string"==typeof o&&("inline1"===o||"top-above-nav"===o)&&n.setSafeFrameConfig({allowOverlayExpansion:!1,allowPushExpansion:!0,sandbox:!0}),i=function(e,t){return["merchandising-high","merchandising"].includes(t)?Q().then(function(e){return e.contributionsTestVisible||e.emailTestVisible||e.storyQuestionsVisible||!e.outbrainEnabled?new Map([["outbrain-compliant","false"]]):new Map}).then(function(t){t.forEach(function(t,n){e.setTargeting(n,t)})}):Promise.resolve()}(n,o)),a.a.get("switches.iasAdTargeting",!1)){window.__iasPET=window.__iasPET||{};var c=window.__iasPET;c.queue=c.queue||[],c.pubId="10249";var d,l,u=[{adSlotId:s,size:n.getSizes().filter(function(e){return"fluid"!==e}).map(function(e){return[e.getWidth(),e.getHeight()]}),adUnitPath:J()}],p=new Promise(function(e){l=e});c.queue.push({adSlots:u,dataHandler:function(e){clearTimeout(d);var t=JSON.parse(e);Object.keys(t.brandSafety).forEach(function(e){return n.setTargeting(e,t.brandSafety[e])}),t.fr&&n.setTargeting("fra",t.fr);var a=["id","pub"];Object.keys(t.slots[s]).filter(function(e){return!a.includes(e)}).forEach(function(e){return n.setTargeting(e,t.slots[s][e])}),l()}}),i=i.then(function(){return Promise.race([new Promise(function(e){d=setTimeout(e,1e3)}),p])})}var m=a.a.get("page.isbn");"im"===o&&m&&n.setTargeting("isbn",m);var g=new Map([["top-above-nav","fabric1"],["merchandising-high","fabric2"],["merchandising","fabric3"]]);return g.has(o)&&n.setTargeting("slot-fabric",g.get(o)),a.a.get("switches.adomik")&&(n.setTargeting("ad_group",function(){var e=Math.random();switch(!0){case e<.09:return"ad_ex".concat(Math.floor(100*e));case e<.1:return"ad_bc";default:return"ad_opt"}}()),n.setTargeting("ad_h",(new Date).getUTCHours().toString())),n.addService(window.googletag.pubads()).setTargeting("slot",o),{slot:n,slotReady:i}},X=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},Z=function(e){return w.c.reduce(function(t,n){var a=e.getAttribute("data-".concat(X(n.name)));return a&&(t[n.name]=a.split("|").map(function(e){return"fluid"===e?"fluid":e.split(",").map(Number)})),t},{})},ee=function(){function e(t){var n=this;B()(this,e),d()(this,"id",void 0),d()(this,"node",void 0),d()(this,"sizes",void 0),d()(this,"size",void 0),d()(this,"slot",void 0),d()(this,"isEmpty",void 0),d()(this,"isLoading",void 0),d()(this,"isRendering",void 0),d()(this,"isLoaded",void 0),d()(this,"isRendered",void 0),d()(this,"shouldRefresh",void 0),d()(this,"maxViewPercentage",void 0),d()(this,"whenLoaded",void 0),d()(this,"whenLoadedResolver",void 0),d()(this,"whenRendered",void 0),d()(this,"whenRenderedResolver",void 0),d()(this,"whenSlotReady",void 0),d()(this,"extraNodeClasses",void 0),d()(this,"timings",void 0);var a=Z(t),i=K(t,a);this.id=t.id,this.node=t,this.sizes=a,this.size=null,this.slot=i.slot,this.isEmpty=null,this.isLoading=!1,this.isRendering=!1,this.isLoaded=!1,this.isRendered=!1,this.whenSlotReady=i.slotReady,this.timings={createTime:null,startLoading:null,stopLoading:null,startRendering:null,stopRendering:null,loadingMethod:null,lazyWaitComplete:null},this.shouldRefresh=!1,this.maxViewPercentage=0,this.whenLoaded=new Promise(function(e){n.whenLoadedResolver=e}).then(function(e){return n.isLoaded=e,e}),this.whenRendered=new Promise(function(e){n.whenRenderedResolver=e}).then(function(e){return n.isRendered=e,e}),this.extraNodeClasses=[]}return A()(e,[{key:"startLoading",value:function(){this.isLoading=!0,this.timings.startLoading=Object(o.a)()}},{key:"stopLoading",value:function(e){this.isLoading=!1,this.whenLoadedResolver&&this.whenLoadedResolver(e),this.timings.stopLoading=Object(o.a)()}},{key:"startRendering",value:function(){this.isRendering=!0,this.timings.startRendering=Object(o.a)()}},{key:"stopRendering",value:function(e){this.isRendering=!1,this.whenRenderedResolver&&this.whenRenderedResolver(e)}},{key:"updateExtraSlotClasses",value:function(){for(var t,n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var r=e.filterClasses(this.extraNodeClasses,i);(t=this.node.classList).remove.apply(t,P()(r)),(n=this.node.classList).add.apply(n,i),this.extraNodeClasses=i}}]),e}();d()(ee,"filterClasses",function(e,t){return e.filter(function(e){return!t.includes(e)})}),ee.filterClasses;var te,ne=function(e){C.advertsToLoad.push(e),"false"!==e.node.getAttribute("data-refresh")&&C.advertsToRefresh.push(e)},ae=n(458),ie=n.n(ae),oe=n(305),re=n(169),se=n(296),ce=n(299),de=n(54),le=n.n(de),ue=function(e){if(Object(ce.m)()||Object(ce.j)())return"13915593";switch(Object(ce.g)()){case"D":return Object(ce.f)(e)?"13366606":Object(ce.d)(e)?"13366615":"13915593";case"M":return Object(ce.e)(e)?"13366904":"13915593";case"T":return Object(ce.e)(e)?"13366913":Object(ce.c)(e)?"13366916":"13915593";default:return"13915593"}},pe=function(e,t){if(t)return"11016434";switch(Object(ce.g)()){case"D":return Object(ce.f)(e)?"9251752":Object(ce.d)(e)?"9926678":"9251752";case"M":return Object(ce.e)(e)?"4298191":"9251752";case"T":return Object(ce.e)(e)?"4371641":Object(ce.c)(e)?"4371640":"9251752";default:return"9251752"}},me=function(){return Object(se.d)(re.a,"variant")},ge="D"===Object(ce.g)()&&"Article"===a.a.get("page.contentType"),fe=function(e,t){switch(Object(ce.x)(e)){case"dfp-ad--inline1":return"2960";case"dfp-ad--inline2":return t?"3826":"3827";case"dfp-ad--inline3":return t?"3828":"3829";case"dfp-ad--inline4":return t?"3830":"3831";case"dfp-ad--inline5":return t?"3832":"3833";case"dfp-ad--inline6":return t?"3834":"3835";case"dfp-ad--inline7":return t?"3836":"3837";case"dfp-ad--inline8":return t?"3838":"3839";case"dfp-ad--inline9":return t?"3840":"3841";case"dfp-ad--mostpop":return"2961";case"dfp-ad--right":return"2962";case"dfp-ad--top-above-nav":return"2963";case"dfp-ad--comments":return"3840";default:return e.startsWith("dfp-ad--inline")?t?"3840":"3841":(console.log("PREBID: Failed to get TrustX ad unit for slot ".concat(e,".")),"")}},he=function(e){if(me())switch(Object(ce.g)()){case"D":return Object(ce.b)(e)?1116408:Object(ce.e)(e)?1116407:Object(ce.d)(e)?1116409:-1;case"T":return Object(ce.e)(e)?1116410:Object(ce.c)(e)?1116411:-1;case"M":return 1116412;default:return-1}if(Object(ce.l)())switch(Object(ce.g)()){case"D":return Object(ce.f)(e)?1116396:Object(ce.d)(e)?1116397:-1;case"M":return Object(ce.f)(e)?1116400:-1;case"T":return Object(ce.f)(e)?1116398:Object(ce.d)(e)?1116399:-1;default:return-1}if(Object(ce.k)())switch(Object(ce.g)()){case"D":return Object(ce.f)(e)?1116420:Object(ce.d)(e)?1116421:-1;case"M":return Object(ce.f)(e)?1116424:-1;case"T":return Object(ce.f)(e)?1116422:Object(ce.d)(e)?1116423:-1;default:return-1}return-1},be=function(){return!ie()(Object(_.e)())},ve=function(e){return be()||e},ye={name:"and",switchName:"prebidAppnexus",bidParams:function(e,t){return function(e,t){if(t&&a.a.get("switches.prebidAppnexusInvcode")){var n=function(e){var t="M"===Object(ce.g)()?"M":"D",n=a.a.get("page.section","")||a.a.get("page.sectionName","").replace(/ /g,"-"),i=Object(ce.h)(e);if(i)return"".concat(t).concat(n.toLowerCase()).concat(i.join("x"))}(e);if(n)return{invCode:n,member:"7012",keywords:le()({invc:[n]},Object(oe.b)(Object(oe.c)()))}}return{placementId:pe(e,t),keywords:Object(oe.b)(Object(oe.c)())}}(t,Object(ce.j)())}},we={name:"oxd",switchName:"prebidOpenx",bidParams:function(){return Object(ce.m)()?{delDomain:"guardian-us-d.openx.net",unit:"540279544",customParams:Object(oe.b)(Object(oe.c)())}:Object(ce.j)()?{delDomain:"guardian-aus-d.openx.net",unit:"540279542",customParams:Object(oe.b)(Object(oe.c)())}:{delDomain:"guardian-d.openx.net",unit:"540279541",customParams:Object(oe.b)(Object(oe.c)())}}},ke={name:"sonobi",switchName:"prebidSonobi",bidParams:function(e){return Object.assign({},{ad_unit:a.a.get("page.adUnit"),dom_id:e,appNexusTargeting:Object(oe.a)(Object(oe.c)()),pageViewId:a.a.get("ophan.pageViewId")},me()?{render:"safeframe"}:{})}},_e={name:"pubmatic",switchName:"prebidPubmatic",bidParams:function(e){return Object.assign({},{publisherId:Object(ce.m)()?"157206":Object(ce.j)()?"157203":"157207",adSlot:Object(ce.w)(e)})}},Ce={name:"trustx",switchName:"prebidTrustx",bidParams:function(e){return{uid:fe(e,ge)}}},je={name:"improvedigital",switchName:"prebidImproveDigital",bidParams:function(e,t){return{placementId:he(t),size:function(e){var t=Object(ce.y)(Object(ce.x)(e));return t&&(t.endsWith("mostpop")||t.endsWith("comments")||t.endsWith("inline1")||t.endsWith("inline")&&!ge)?{w:300,h:250}:{}}(e)}}},Pe={name:"xhb",switchName:"prebidXaxis",bidParams:function(e,t){return{placementId:function(e){return Object(ce.b)(e)?13663297:Object(ce.e)(e)?13663304:Object(ce.a)(e)?13663284:13663304}(t)}}},Oe={name:"adyoulike",switchName:"prebidAdYouLike",bidParams:function(){return Object(ce.l)()?{placement:"2b4d757e0ec349583ce704699f1467dd"}:Object(ce.m)()?{placement:"7fdf0cd05e1d4bf39a2d3df9c61b3495"}:Object(ce.j)()?{placement:"5cf05e1705a2d57ba5d51e03f2af9208"}:{placement:"c1853ee8bfe0d4e935cbf2db9bb76a8b"}}},Be=function(e){var t=function(){if(!me()){var e=a.a.get("page.pbIndexSites",[]).find(function(e){return e.bp===Object(ce.g)()});return e&&e.id?e.id.toString():""}switch(Object(ce.g)()){case"D":return"287246";case"T":return"287247";case"M":return"287248";default:return"-1"}}();return e.map(function(e){return{name:"ix",switchName:"prebidIndexExchange",bidParams:function(){return{siteId:t,size:e}}}})},xe=function(e){var t=P()(ve(Object(ce.t)())?[ke]:[]).concat(P()(ve(Object(ce.u)())?[Ce]:[]),P()(ve(Object(ce.p)())?[ye]:[]),P()(ve(Object(ce.q)())?[je]:[]),P()(ve(Object(ce.v)())?[Pe]:[]),[_e],P()(ve(Object(ce.o)(e))?[Oe]:[]),P()(Object(ce.r)()?[we]:[])),n=Be(e).concat(t).concat(function(){var e=[],t={name:"appnexus",switchName:"prebidS2sozone",bidParams:function(e,t){return Object.assign({},{placementId:ue(t),keywords:Object(oe.b)(Object(oe.c)())},window.OzoneLotameData?{lotame:window.OzoneLotameData}:{})}},n={name:"openx",switchName:"prebidS2sozone",bidParams:function(){return Object.assign({},{delDomain:"guardian-d.openx.net",unit:"539997090",customParams:Object(oe.b)(Object(oe.c)())},window.OzoneLotameData?{lotame:window.OzoneLotameData}:{})}},i={name:"pangaea",switchName:"prebidS2sozone",bidParams:function(e,t){return Object.assign({},{placementId:function(e){var t=a.a.get("page.section","").toLowerCase(),n=[{sections:["business"],lb:13892359,mmpu:13892404,dmpu:13892360},{sections:["culture"],lb:13892361,mmpu:13892405,dmpu:13892362},{sections:["uk","us","au"],lb:13892363,mmpu:13892406,dmpu:13892364},{sections:["news"],lb:13892365,mmpu:13892407,dmpu:13892366},{sections:["money"],lb:13892367,mmpu:13892408,dmpu:13892368},{sections:["sport"],lb:13892372,mmpu:13892410,dmpu:13892373},{sections:["lifeandstyle","fashion"],lb:13892411,mmpu:13892436,dmpu:13892437},{sections:["technology","environment"],lb:13892376,mmpu:13892414,dmpu:13892377},{sections:["travel"],lb:13892378,mmpu:13892415,dmpu:13892379}].find(function(e){return e.sections.includes(t)})||{sections:["other"],lb:13892369,mmpu:13892409,dmpu:13892370},i=Object(ce.g)();return Object(ce.e)(e)&&"M"===i?n.mmpu:Object(ce.f)(e)?n.dmpu:Object(ce.d)(e)?n.lb:13892409}(t).toString(),keywords:Object(oe.b)(Object(oe.c)())},window.OzoneLotameData?{lotame:window.OzoneLotameData}:{})}};return ve(a.a.get("switches.prebidS2sozone")&&Object(ce.s)())&&(e.push(n),e.push(t),a.a.get("switches.prebidPangaea",!1)&&e.push(i)),e}());return be()?n.filter(function(e){return Object(_.e)()[e.name]}):function(e){return e.filter(function(e){return function(e){return a.a.get("switches.".concat(e.switchName))}(e)})}(n)},Ae=function(e,t){return xe(t).map(function(n){return{bidder:n.name,params:n.bidParams(e,t)}})},Ie=function(e,t){return function(e,t){return t.filter(function(t){return Object(ce.y)(Object(ce.x)(e)).endsWith(t.key)})}(e,function(e){var t="Article"===e,n="Crossword"===e,i=a.a.get("page.hasShowcaseMainElement",!1),o=t&&a.a.get("switches.extendedMostPopular"),r=[{key:"right",sizes:i?[[300,250]]:[[300,600],[300,250]]},{key:"inline1",sizes:n?[[728,90]]:[[300,250]]}],s=[{key:"top-above-nav",sizes:[[970,250],[728,90]]},{key:"inline",sizes:t?[[160,600],[300,600],[300,250]]:[[300,250]]},{key:"mostpop",sizes:o?[[300,600],[300,250]]:[[300,250]]},{key:"comments",sizes:[[160,600],[300,250],[300,600]]}],c=[{key:"top-above-nav",sizes:[[728,90]]},{key:"inline",sizes:[[300,250]]},{key:"mostpop",sizes:o?[[300,600],[300,250],[728,90]]:[[300,250]]}];switch(Object(ce.g)()){case"M":return r.concat([{key:"top-above-nav",sizes:[[300,250]]},{key:"inline",sizes:[[300,250]]},{key:"mostpop",sizes:[[300,250]]}]);case"T":return r.concat(c);default:return r.concat(s)}}(t))},Le={buckets:[{min:0,max:100,increment:.01},{min:100,max:500,increment:1}]},Se={cmpApi:"iab",timeout:200,allowAuctionWithoutConsent:!0},Ee={accountId:"1",enabled:!0,bidders:["appnexus","openx","pangaea"],timeout:1500,adapter:"prebidServer",is_debug:"false",endpoint:"https://elb.the-ozone-project.com/openrtb2/auction",syncEndpoint:"https://elb.the-ozone-project.com/cookie_sync",cookieSet:!0,cookiesetUrl:"https://acdn.adnxs.com/cookieset/cs.js"},Me=function(){function e(t,n){B()(this,e),d()(this,"code",void 0),d()(this,"bids",void 0),d()(this,"mediaTypes",void 0),this.code=t.id,this.bids=Ae(t.id,n.sizes),this.mediaTypes={banner:{sizes:n.sizes}}}return A()(e,[{key:"isEmpty",value:function(){return null==this.code}}]),e}(),Te=Promise.resolve(),Re=!1,De=function(e,t){if(!Re)return Te;var n=t||function(e){return[e]};if("prebid"!==C.externalDemand)return Te;var i=Ie(e.id,a.a.get("page.contentType","")).map(n).reduce(function(e,t){return e.concat(t)},[]).map(function(t){return new Me(e,t)}).filter(function(e){return!e.isEmpty()});return 0===i.length?Te:Te=Te.then(function(){return new Promise(function(e){window.pbjs.que.push(function(){window.pbjs.requestBids({adUnits:i,bidsBackHandler:function(){window.pbjs.setTargetingForGPTAsync([i[0].code]),e()}})})})}).catch(function(){})},Fe=function(e){e.whenSlotReady.catch(function(){}).then(function(){return e.startLoading(),De(e)}).then(function(){return window.googletag.display(e.id)})},Ge=function(e){e.whenSlotReady.then(function(){return De(e,function(t){return"top-above-nav"!==t.key?[t]:1===t.sizes.length?[t]:Array.isArray(e.size)?[Object.assign({},t,{sizes:[[e.size[0],e.size[1]]]})]:[]})}).then(function(){e.slot.setTargeting("refreshed","true"),"dfp-ad--top-above-nav"===e.id&&Array.isArray(e.size)&&e.slot.defineSizeMapping([[[0,0],[e.size]]]),window.googletag.pubads().refresh([e.slot])})},ze=function(e){return e in C.advertIds?C.adverts[C.advertIds[e]]:null},Ve=(window.IntersectionObserver,window.IntersectionObserverEntry,function(e,t){var n=[];e.filter(function(e){return!("isIntersecting"in e)||e.isIntersecting}).forEach(function(e){var a,i;t.unobserve(e.target),a=e.target.id,(i=ze(a))&&(i.isRendered?Ge(i):Fe(i)),n.push(e.target.id)}),C.advertsToLoad=C.advertsToLoad.filter(function(e){return n.indexOf(e.id)<0})}),Ne=T()(function(){return Promise.resolve(new window.IntersectionObserver(Ve,{rootMargin:"200px 0px"}))}),He=function(e){return Ne().then(function(t){return t.observe(e.node)})},Ue=function(e,t){window.googletag.cmd.push(function(){e.id in C.advertIds||function(e,t){var n=new ee(e);C.advertIds[n.id]=C.adverts.push(n)-1,C.shouldLazyLoad()&&!t?(ne(n),He(n)):Fe(n)}(e,t)})},qe=n(35),$e=n.n(qe)()(function(e){return new Promise(function(t){!function n(){var a=ze(e);a?t(a):window.setTimeout(n,200)}()})}),We=function(e){return $e(e).then(function(e){return e.whenRendered})},Qe={bodySelector:".js-article__body",slotSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,selectors:{" .element-rich-link":{minAbove:100,minBelow:400}," .element-image":{minAbove:440,minBelow:440}," .player":{minAbove:50,minBelow:50}," > h1":{minAbove:50,minBelow:50}," > h2":{minAbove:50,minBelow:50}," > *:not(p):not(h2):not(blockquote)":{minAbove:50,minBelow:50}," .ad-slot":{minAbove:100,minBelow:100}," .element-pullquote":{minAbove:400,minBelow:400}},fromBottom:!0},Ye={bodySelector:".js-article__body",slotSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,selectors:{" .element-rich-link":{minAbove:400,minBelow:400}," .element-image":{minAbove:440,minBelow:440}," .player":{minAbove:50,minBelow:50}," > h1":{minAbove:50,minBelow:50}," > h2":{minAbove:50,minBelow:50}," > *:not(p):not(h2):not(blockquote)":{minAbove:50,minBelow:50}," .ad-slot":{minAbove:400,minBelow:400}," .ad-slot--im":{minAbove:400,minBelow:400}," .element-pullquote":{minAbove:400,minBelow:400}},fromBottom:!0},Je={bodySelector:".js-article__body",slotSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,selectors:{" .element-rich-link":{minAbove:400,minBelow:400}," .element-image":{minAbove:440,minBelow:440}," .player":{minAbove:50,minBelow:50}," > h1":{minAbove:50,minBelow:50}," > h2":{minAbove:50,minBelow:50}," > *:not(p):not(h2):not(blockquote)":{minAbove:50,minBelow:50}," .ad-slot":{minAbove:400,minBelow:400}," .ad-slot--im":{minAbove:400,minBelow:400}," .element-pullquote":{minAbove:400,minBelow:400}},fromBottom:!0},Ke=function(e){var t=g("carrot"),n=e.slice(1);return s.a.write(function(){t.forEach(function(e){n[0]&&n[0].parentNode&&n[0].parentNode.insertBefore(e,n[0])})}).then(function(){return Ue(t[0],!0)})},Xe=function(){return f.a.carrotTrafficDriver?k.a.fillSpace(function(){switch(Object(w.d)()){case"mobile":case"mobileMedium":case"mobileLandscape":case"phablet":return Je;case"tablet":case"desktop":return Ye;default:return Qe}}(),Ke,{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0}):Promise.resolve()},Ze=a.a.get("page.isPaidContent",!1),et={minAbove:500,minBelow:500},tt=function(e,t,n,a,i){var o=g(n,{name:t,classes:a,sizes:i});return s.a.write(function(){return o.forEach(function(t){e.parentNode&&e.parentNode.insertBefore(t,e)})}).then(function(){var e=["im","carrot"].includes(t);Ue(o[0],e)})},nt=function(e){return function(t){return(!te||Math.abs(t.top-te.top)-e>=et.minBelow)&&(te=t,!0)}},at=function(e){var t={bodySelector:".js-article__body",slotSelector:" > p",minAbove:a.a.get("page.isImmersive")?700:300,minBelow:700,selectors:{" > h2":{minAbove:0,minBelow:250}," .ad-slot":et," > :not(p):not(h2):not(.ad-slot)":{minAbove:35,minBelow:400}," figure.element--immersive":{minAbove:0,minBelow:600}},filter:nt(u.mpu.height)},n={bodySelector:".js-article__body",slotSelector:" > p",minAbove:Ze?1600:1e3,minBelow:800,selectors:{" .ad-slot":et," figure.element--immersive":{minAbove:0,minBelow:600}},filter:nt(u.halfPage.height)},i=e?t:n;return k.a.fillSpace(i,function(t){var n=t.slice(0,e?1:t.length).map(function(t,n){return tt(t,"inline".concat(n+(e?1:2)),"inline","inline".concat(e?"":" offset-right"),e?null:{desktop:[u.halfPage,u.skyscraper]})});return Promise.all(n).then(function(){return n.length})},{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0})},it=function(){var e;return Object(w.m)({max:"phablet"})?(e={bodySelector:".js-article__body",slotSelector:" > p",minAbove:200,minBelow:200,selectors:{" > h2":{minAbove:100,minBelow:250}," .ad-slot":et," > :not(p):not(h2):not(.ad-slot)":{minAbove:35,minBelow:200},fromBottom:!0},filter:nt(u.mpu.height)},k.a.fillSpace(e,function(e){var t=e.map(function(e,t){return tt(e,0===t?"top-above-nav":"inline".concat(t),0===t?"top-above-nav":"inline","inline")});return Promise.all(t).then(function(){return t.length})},{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0})):Ze?at(!1):at(!0).then(function(){return at(!1)})},ot=n(18),rt=n.n(ot),st=function(e){return"none"===window.getComputedStyle(e).display},ct=T()(function(){var e=rt()(C.adSlotSelector);return e=e.filter(st),s.a.write(function(){e.forEach(function(e){return e.remove()})})}),dt=".".concat("fc-slice__item--mpu-candidate"),lt=function(e){return e.className.toLowerCase().includes("fc-slice__item--mpu-candidate")},ut=function(e){var t=e.getAttribute("data-component");return t&&t.includes("commercial-container")},pt=T()(function(){if(!f.a.adFree)return Promise.resolve();var e=document.body,t=rt()(C.adSlotSelector),n=rt()(dt).filter(lt),a=rt()(".fc-container").filter(ut),i=rt()(".commercial-thrasher");return s.a.write(function(){e&&(e.classList.toString().includes("has-page-skin")&&e.classList.remove("has-page-skin"),e.classList.toString().includes("has-active-pageskin")&&e.classList.remove("has-active-pageskin")),t.forEach(function(e){return e.remove()}),n.forEach(function(e){return e.classList.add("fc-slice__item--no-mpu")}),a.forEach(function(e){return e.classList.add("u-h")}),i.forEach(function(e){var t=e.closest(".fc-container--thrasher");t&&t.remove()})})}),mt=n(3),gt=n(7),ft=n(171),ht=n(311),bt=["debug","info","warn","error"],vt=bt.reduce(function(e,t,n){return e[t]=function(){var e="debug"===t?"log":t,a=ht.h.logging;if(a&&console&&"function"==typeof console[e]){var i=bt.indexOf(a.toString().toLocaleLowerCase());if(!0===a||i>-1&&n>=i){for(var o,r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];var d=s.concat(),l=d[0],u=d.slice(1);(o=console)[e].apply(o,["".concat(t.toUpperCase(),": (CMP) ").concat(l)].concat(P()(u)))}}},e},{}),yt=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",n="",a=0;a<e;a+=1)n+=t;return n},wt=function(e,t){return yt(Math.max(0,t)).toString()+e},kt=function(e,t){return e+yt(Math.max(0,t))},_t=function(e,t){var n="";return"number"!=typeof e||Number.isNaN(e)||(n=parseInt(e,10).toString(2)),t&&t>=n.length&&(n=wt(n,t-n.length)),t&&t<n.length&&(n=n.substring(0,t)),n},Ct=function(e,t,n){var a=e.substr(t,n);return parseInt(a,2)},jt=function(e,t,n){return new Date(100*Ct(e,t,n))},Pt=function(e,t){var n=e.substr(t,1);return 1===parseInt(n,2)},Ot=function(e,t,n){for(var a="",i=t;i<t+n;)a+=String.fromCharCode(65+Ct(e,i,6)),i+=6;return a},Bt=function(e){var t=e.input;return e.fields.reduce(function(e,n){return e+xt({input:t,field:n})},"")},xt=function(e){var t=e.input,n=e.field,a=n.name,i=n.type,o=n.numBits,r=n.encoder,s=n.validator;if("function"==typeof s&&!s(t))return"";if("function"==typeof r)return r(t);var c="function"==typeof o?o(t):o,d=t[a],l=null==d?"":d;switch(i){case"int":return _t(l,c);case"bool":return function(e){return _t(!0===e?1:0,1)}(l);case"date":return function(e,t){return e instanceof Date?_t(e.getTime()/100,t):_t(e,t)}(l,c);case"bits":return"string"==typeof l?kt(l,c-l.length).substring(0,c):"";case"6bitchar":return"string"==typeof l?function(e,t){var n=function(e){return"string"!=typeof e?"":e.split("").map(function(e){var t=Math.max(0,e.toUpperCase().charCodeAt(0)-65);return _t(t>25?0:t,6)}).join("")}(e);return kt(n,t).substr(0,t)}(l,c):"";case"list":return Array.isArray(l)?l.reduce(function(e,t){return e+Bt({input:t,fields:n.fields?n.fields:[]})},""):"";default:return vt.warn("Cookie definition field found without encoder or type: ".concat(a)),""}},At=function(e){var t=e.input,n=e.fields,a=e.startPosition,i=void 0===a?0:a;return{decodedObject:n.reduce(function(e,n){var a=n.name,o=n.numBits,r=It({input:t,output:e,startPosition:i,field:n}),s=r.fieldValue,c=r.newPosition;return void 0!==s&&(e[a]=s),void 0!==c?i=c:"number"==typeof o&&(i+=o),e},{}),newPosition:i}},It=function(e){var t=e.input,n=e.output,a=e.startPosition,i=e.field,o=i.type,r=i.numBits,s=i.decoder,c=i.validator,d=i.listCount;if("function"==typeof c&&!c(n))return{newPosition:a};if("function"==typeof s)return s(t,n,a);var l="function"==typeof r?r(n):r,u="function"==typeof d?d(n):"number"==typeof d?d:0;switch(o){case"int":return{fieldValue:Ct(t,a,l)};case"bool":return{fieldValue:Pt(t,a)};case"date":return{fieldValue:jt(t,a,l)};case"bits":return{fieldValue:t.substr(a,l)};case"6bitchar":return{fieldValue:Ot(t,a,l)};case"list":return new Array(u).fill().reduce(function(e){var n=At({input:t,fields:i.fields?i.fields:[],startPosition:e.newPosition}),a=n.decodedObject,o=n.newPosition;return{fieldValue:P()(e.fieldValue).concat([a]),newPosition:o}},{fieldValue:[],newPosition:a});default:return vt.warn("Cookie definition field found without decoder or type"),{}}},Lt=function(e){if(e&&e.cookieVersion)return function(e,t){var n=function(e,t){var n=e.cookieVersion;if("number"!=typeof n)vt.error("Could not find cookieVersion to encode");else{if(t[n]){var a=t[n].fields;return Bt({input:e,fields:a})}vt.error("Could not find definition to encode cookie version ".concat(n))}}(e,ht.i);if(n){for(var a=kt(n,7-(n.length+7)%8),i="",o=0;o<a.length;o+=8)i+=String.fromCharCode(parseInt(a.substr(o,8),2));return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}}(e)},St=function(e){return function(e,t){for(var n=e.replace(/-/g,"+").replace(/_/g,"/")+"==".substring(0,3*e.length%4),a=atob(n),i="",o=0;o<a.length;o+=1){var r=a.charCodeAt(o).toString(2);i+=wt(r,8-r.length)}return function(e,t){var n=Ct(e,0,6);if("number"!=typeof n)return vt.error("Could not find cookieVersion to decode"),{};if(!t[n])return vt.error("Could not find definition to decode cookie version ".concat(n)),{};var a=t[n].fields;return At({input:e,fields:a}).decodedObject}(i,t)}(e,ht.i)},Et=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="",a=1;a<=e;a+=1)n+=t.includes(a)?"1":"0";return kt(n,Math.max(0,e-n.length))},Mt=function(e,t){for(var n=Math.max.apply(Math,[0].concat(P()(e),P()(t))),a="",i=1;i<=n;i+=1)a+=t.includes(i)?"1":"0";return a},Tt=function(e){return e.split("").reduce(function(e,t,n){return"1"===t&&e.push(n+1),e},[])},Rt=function(e,t,n,a){var i=new Date;return{cmpId:e,cmpVersion:t,cookieVersion:n,vendorListVersion:a,created:i,lastUpdated:i,consentLanguage:"EN",consentScreen:0}},Dt=function(e,t,n,a,i){if(arguments.length>5&&void 0!==arguments[5]&&arguments[5]){vt.info("getVendorConsentData: Running Cmp Customise");var o=function(){var e=Object(mt.d)(ht.g);return e?(vt.info("Read consent data from cookie: ".concat(e)),function(e){var t=St(e),n=t.cookieVersion,a=t.cmpId,i=t.cmpVersion,o=t.consentScreen,r=t.consentLanguage,s=t.vendorListVersion,c=t.purposeIdBitString,d=t.maxVendorId,l=t.created,u=t.lastUpdated,p=t.isRange,m=t.defaultConsent,g=t.vendorIdBitString,f=t.vendorRangeList,h={cookieVersion:n,cmpId:a,cmpVersion:i,consentScreen:o,consentLanguage:r,vendorListVersion:s,selectedVendorIds:[],selectedPurposeIds:Tt(c),maxVendorId:d,created:l,lastUpdated:u};if(p)for(var b=f.reduce(function(e,t){for(var n=t.isRange,a=t.startVendorId,i=t.endVendorId,o=n?i:a,r=a;r<=o;r+=1)e[r]=!0;return e},{}),v=0;v<=d;v+=1)(m&&!b[v]||!m&&b[v])&&h.selectedVendorIds.push(v);else h.selectedVendorIds=Tt(g);return h}(e)):(vt.info("Unable to read from CMP cookie"),!1)}();if(o)return le()({},o)}if("boolean"==typeof a){var r=Rt(e,t,n,i.version),s=function(e,t){var n=Object.keys(t.purposesByVID).map(function(e){return parseInt(e,10)}),a=Math.max.apply(Math,[0].concat(P()(n)));return e?{selectedPurposeIds:t.purposeIDs,selectedVendorIds:n,maxVendorId:a}:{selectedPurposeIds:[],selectedVendorIds:[],maxVendorId:a}}(a,i);return le()({},r,s)}vt.warn("Missing value for consent state, Store will be incomplete")},Ft={version:134,purposeIDs:[1,2,3,4,5],purposesByVID:{1:[1,2,3,4,5],2:[1,2,3],3:[2,3,4,5],4:[1,2,3,4,5],6:[1,2,3,4,5],7:[2,3,4,5],8:[1,2,4],9:[1,2,3,4,5],10:[1],11:[1],12:[1,3,5],13:[1,2,3],14:[1,2,3,4,5],15:[1,2,3,4,5],16:[1,3],17:[1,2,3,4,5],18:[1,2,3],19:[1],20:[],21:[1,2],22:[1,2,3,4,5],23:[1],24:[1],25:[1,2],26:[1,2,3,4,5],27:[1,3],28:[1,3],29:[1,2,3,4,5],30:[2],31:[1,2,3,4],32:[1],33:[1,2,3,4],34:[1,2,4,5],35:[1],36:[5],37:[1,2,3,5],38:[1,2,3,5],39:[1],40:[],41:[2],42:[1],43:[1,3],44:[1],45:[1,2],46:[1,2,3],47:[1,2,3,4,5],48:[1,2,3,4,5],49:[1,2,3],50:[1],51:[1,2,3,4,5],52:[1],53:[1,2,3,4,5],55:[],56:[1],57:[1,2,3,4,5],58:[1,2,3,5],59:[1,2,3],60:[1],61:[1,2,3,5],62:[1,2,3,4,5],63:[],64:[1],65:[1,2,3,4,5],66:[1,2,3,5],67:[1,2,3,4,5],68:[1],69:[1,2,3],70:[],71:[1,2,3],72:[],73:[2,3,4,5],74:[1,3],75:[1,2,3,4,5],76:[1],77:[1,5],78:[1],79:[1],80:[3,5],81:[1,2,3,4,5],82:[1,2,3,4,5],83:[5],84:[],85:[1,2,3,4,5],86:[1,2,3,4,5],87:[2,4],88:[1],89:[1],90:[1],91:[1,2,3],92:[],93:[],94:[1,2,3,4,5],95:[1,2,3,4,5],97:[1,2,3,4,5],98:[1,2,3,4],100:[1,2,3],101:[1,2,3,4,5],102:[1,2],104:[1,2],105:[1,3,5],108:[1,2,3,4,5],109:[1,2,3,5],110:[1,5],111:[],112:[1,2,3,4,5],113:[1,2,3,5],114:[1,2,3],115:[1],118:[1],119:[2],120:[1,2,3,4,5],122:[1,2,3],124:[1,2,3,5],125:[1,3,5],126:[5],127:[1,2,4],128:[1,2,3,4,5],129:[1,2,3,4,5],130:[1],131:[1],132:[1,2],133:[1,3,5],134:[1,2,3],136:[],137:[],138:[1],139:[1,2,3],140:[1,2,3,4,5],141:[1,2,3,4],142:[1,2],143:[1,2,3,4,5],144:[1,2,3,5],145:[1,5],147:[1,2,3],148:[1],149:[1,2,3],150:[2,3],151:[],152:[],153:[1,2,3,4,5],154:[1,2],155:[1,2,3],156:[1],157:[1,2,3],158:[1,2,3,4,5],159:[1,2,3,5],160:[1,2,3,4,5],161:[1,2,3,4,5],162:[2],163:[1,2],164:[1,2,3,5],165:[1],167:[1,5],168:[1,2,3,4,5],169:[1,4],170:[],171:[1,2,3,4,5],173:[1,2,3,4,5],174:[],175:[1,2,3,4,5],177:[1,2,3,4],178:[],179:[1,2,3,4,5],180:[1],182:[1,2,3,4,5],183:[1,2],184:[1,2,3,4,5],185:[1,2,3,4,5],188:[],189:[1,3],190:[1,2,3,4,5],191:[1,2,3,4,5],192:[1,2,3,4,5],193:[1,3],194:[3,5],195:[],196:[1,2,4],197:[1,3,5],198:[1,3],199:[1,2,3,4,5],200:[],201:[],202:[1,2,3,4,5],203:[],205:[],206:[1,2,3,4,5],208:[2,3],209:[1],210:[1,2,3,4,5],211:[1,2,3,4,5],212:[],213:[],214:[1,2,3],215:[1,2],216:[],217:[],218:[],221:[1,2,3,4,5],223:[],224:[2,4],225:[],226:[1],227:[2],228:[],229:[2,4],230:[1,2,3,4,5],231:[1,2,3,4,5],232:[],234:[1,2,3],235:[1],236:[1,2,5],237:[],238:[],239:[],240:[],241:[1,2,3,4],242:[],243:[1,2,3,4,5],244:[1,2,3,4,5],245:[],246:[],248:[1],249:[1,2,3,4,5],250:[2,3,4],251:[],252:[],253:[1,2,3,4,5],254:[],255:[2,3,5],256:[1],257:[1],258:[],259:[2,4],260:[3],261:[1,2,3,4,5],262:[3],263:[],264:[1,2,3,4,5],265:[2,3,4],266:[1,2,3,4,5],268:[1,2,3,4,5],269:[1,2,3,4,5],270:[1,3],272:[1,2,3,4,5],273:[],274:[1,2,3,4,5],275:[1,2,3],276:[1,2,3,4,5],277:[1,2,3,4],278:[],279:[1,2,3,4,5],280:[],281:[],282:[],284:[],285:[1],287:[],288:[2],289:[1,2,3,4,5],290:[1,2,3,4,5],291:[1,2,4],293:[],294:[],295:[1,2,3,5],297:[2],298:[1,2,3,5],299:[],301:[],302:[1,2,3,4,5],303:[1,2,3],304:[1,2,3,4,5],308:[1],309:[],310:[],311:[1,2,3,4,5],312:[1,5],314:[1,2,3],315:[1,3],316:[1,2,3,4,5],317:[1,2,3,4,5],318:[2,3,4],319:[1,3,4,5],320:[1,2,3],321:[1,2,3,5],323:[2],325:[],326:[3,5],328:[1,2,3,4,5],329:[],330:[2],331:[1,2,4],333:[1,2,3,4,5],334:[],335:[],336:[],337:[1,2,3,4,5],338:[],339:[2,3,4,5],340:[1,2,3,4,5],341:[1,2],343:[1,2,3,4,5],344:[1,3,5],345:[1,3,5],346:[1,2,3,4,5],347:[2,4,5],349:[1,2,3,4],350:[1],351:[1],354:[2],357:[1,2,3,4,5],358:[1,2,3,4,5],359:[1,2,3,4,5],360:[],361:[],362:[1,2,3,4,5],365:[],366:[],368:[1,2,3,4,5],369:[1],371:[],373:[1,2],374:[1,2,4,5],375:[1,2,3],376:[1,2,3,5],377:[1,3,5],378:[],380:[1,2],381:[1,2,3,4,5],382:[1,2,4,5],384:[],385:[1,2,3,4],387:[1,3,5],388:[1],389:[1,2,3,4,5],390:[1,3],391:[],392:[2,3,4],394:[1,2],395:[],397:[1],398:[1,2,3,4,5],400:[1,2,3,4,5],402:[2,3,4,5],403:[1,3,4,5],404:[],405:[],407:[1,2],408:[2],409:[],410:[1,3],412:[],413:[1,2,3,4,5],415:[],416:[1,2,3,4,5],418:[1],421:[],422:[1],423:[1,2,3,4,5],424:[],425:[],426:[],427:[1,2,3,4,5],428:[],429:[1,2,3,4,5],430:[],431:[],434:[1,3],435:[1,2,3],436:[2,3,4],438:[1,2,3],439:[1,5],440:[2,3,4],442:[1,2,3,4,5],443:[],444:[2],447:[],448:[],449:[],450:[1,2,3,4,5],452:[1,2,3,4],454:[1],455:[1,2,3],458:[],459:[],461:[1,2,3,4,5],462:[1,2,3,4,5],464:[1,2,3,4],465:[1,2,3,4,5],466:[1,3],467:[3,5],468:[1],469:[],471:[1,2,3,4,5],473:[3,4,5],474:[],475:[1,2,3],476:[],478:[1],479:[1,2,3],480:[2,3],482:[1,2,3,4,5],484:[],486:[],487:[],488:[],489:[1,2,3],490:[1,3,5],491:[1,2,3,4,5],492:[],493:[1,2,3,4],494:[1,2,4,5],495:[1,2,3,4,5],496:[1,2,3,4],497:[1,2,4],498:[1],499:[5],500:[1,2,3,5],501:[1,2,3,4,5],502:[3,5],505:[1,2],506:[1,2,3],507:[],508:[1,2,3,4,5],509:[1,3],511:[1,2,3,4,5],512:[1,2,3,4,5],513:[1,2,3,4,5],514:[1],515:[1,3],516:[1,2,3,4,5],517:[1,2],518:[1],519:[1,2],520:[1],521:[1],522:[2,3,5],523:[1,2,3,4,5],524:[1,2,3,4,5],525:[1],527:[1,2,3,4,5],528:[1,2,3,5],529:[1,2,3,4,5],530:[1,2,3,5],531:[1,2,3,5],534:[1,3,4,5],535:[1,2,3,4,5],536:[1],537:[],539:[],540:[1,2,3,4,5],541:[],542:[],543:[1,2],544:[],545:[1,2,3,4,5],546:[1],547:[1,3],548:[1,2,3,4,5],550:[5],551:[1],553:[1,2,3,4,5],554:[1,2,3,4,5],556:[1,2,3,4,5],559:[],560:[1,2,3],565:[1,2,5],568:[1,2,3,4,5],569:[],570:[1,2,3,4,5],571:[1,2,3,4,5],572:[1],577:[],578:[1,2,3,4,5],580:[],587:[1,2,3,4,5],590:[]},legIntPurposesByVID:{1:[],2:[5],3:[],4:[],6:[],7:[1],8:[3,5],9:[],10:[],11:[2,3,4,5],12:[],13:[],14:[],15:[],16:[],17:[],18:[],19:[2,3,4,5],20:[1,2,3,4,5],21:[3,5],22:[],23:[2,3,4,5],24:[2,3,4,5],25:[3,5],26:[],27:[],28:[],29:[],30:[1,3],31:[5],32:[3],33:[5],34:[3],35:[3,5],36:[1,2,3,4],37:[],38:[],39:[2,3,4,5],40:[1,2,3,4,5],41:[1,3],42:[2,3,4,5],43:[],44:[2,3,4,5],45:[3,5],46:[5],47:[],48:[],49:[5],50:[2,3,4,5],51:[],52:[2,3,4,5],53:[],55:[1,2,3,4,5],56:[],57:[],58:[],59:[],60:[2,3,4,5],61:[],62:[],63:[1,3],64:[],65:[],66:[],67:[],68:[2,3,4,5],69:[],70:[1,3],71:[],72:[1,2,3,5],73:[1],74:[],75:[],76:[2,3,4,5],77:[],78:[],79:[2,3,4,5],80:[1],81:[],82:[],83:[],84:[1,2,4,5],85:[],86:[],87:[1,3,5],88:[2,3],89:[2,3,5],90:[2,3,4,5],91:[],92:[1,2,3,4,5],93:[5],94:[],95:[],97:[],98:[5],100:[5],101:[],102:[3],104:[3],105:[],108:[],109:[],110:[],111:[5],112:[],113:[],114:[5],115:[2,3,5],118:[],119:[1,3],120:[],122:[],124:[],125:[],126:[],127:[3,5],128:[],129:[],130:[2,3],131:[],132:[3,4,5],133:[],134:[],136:[1,2,3,5],137:[1,2,3],138:[3],139:[],140:[],141:[5],142:[3,5],143:[],144:[],145:[],147:[],148:[],149:[5],150:[1],151:[1,2,3],152:[5],153:[],154:[3,5],155:[],156:[2,3,4,5],157:[],158:[],159:[],160:[],161:[],162:[1,3,5],163:[3,4,5],164:[4],165:[],167:[],168:[],169:[2,3,5],170:[1,2,3,4,5],171:[],173:[],174:[3],175:[],177:[5],178:[1,2,3,4,5],179:[],180:[3],182:[],183:[3,4,5],184:[],185:[],188:[1,2,3,4,5],189:[],190:[],191:[],192:[],193:[],194:[1],195:[1,2,3],196:[3,5],197:[],198:[],199:[],200:[1,2,3,4,5],201:[1,2,3,4,5],202:[],203:[1,2,3,4,5],205:[3,5],206:[],208:[],209:[2,3,5],210:[],211:[],212:[1,2,3,4,5],213:[1,2,3,5],214:[],215:[3],216:[1,2,3,4,5],217:[1,3],218:[1,2,3,4,5],221:[],223:[1,5],224:[1,3,5],225:[1,2,3,5],226:[2,3,4,5],227:[1,3,4,5],228:[1,3,4,5],229:[],230:[],231:[],232:[1,3,5],234:[5],235:[2,3,4,5],236:[3,4],237:[1,2,3,4,5],238:[1,2,3,4,5],239:[1,3,4,5],240:[1,4,5],241:[5],242:[1,2,3,4,5],243:[],244:[],245:[1,2,3,4,5],246:[5],248:[3,4,5],249:[],250:[1],251:[1,2,3,4,5],252:[1,2,3,4,5],253:[],254:[1,2,3,5],255:[1],256:[2,4,5],257:[],258:[1,2,3,5],259:[1,3,5],260:[1,2,5],261:[],262:[],263:[1,2,3,4,5],264:[],265:[1,5],266:[],268:[],269:[],270:[],272:[],273:[3],274:[],275:[],276:[],277:[5],278:[5],279:[],280:[1,2,3,4,5],281:[1,5],282:[5],284:[1,2,3,4,5],285:[],287:[1,3,4],288:[1,3,4,5],289:[],290:[],291:[3,5],293:[1,3],294:[1,2,3,4,5],295:[],297:[1,3,4,5],298:[],299:[1,2,3,4,5],301:[1,2,3,4,5],302:[],303:[],304:[],308:[2,3],309:[1,2,3,5],310:[4],311:[],312:[],314:[],315:[],316:[],317:[],318:[1,5],319:[],320:[],321:[],323:[1,3,4,5],325:[1,2,3,4,5],326:[1,2,4],328:[],329:[1,5],330:[1,3,4,5],331:[3,5],333:[],334:[1,2,3,4],335:[1,3,4,5],336:[1,2,3,4],337:[],338:[1,2,3,4,5],339:[1],340:[],341:[3],343:[1,2,3,4,5],344:[2,4],345:[],346:[],347:[1],349:[],350:[2,3,4,5],351:[2,3,4,5],354:[1,3,4,5],357:[],358:[],359:[],360:[1],361:[1],362:[],365:[1,5],366:[1,2,3,4,5],368:[],369:[],371:[1,2,3,4,5],373:[5],374:[],375:[],376:[],377:[],378:[1],380:[3,4,5],381:[],382:[3],384:[1,5],385:[5],387:[],388:[2,3,4,5],389:[],390:[5],391:[1,2,3,5],392:[1,5],394:[3,4,5],395:[1,2,3,5],397:[2,3,4,5],398:[],400:[],402:[],403:[],404:[1,5],405:[1,3,4,5],407:[3,4,5],408:[1,3,4,5],409:[1,3,5],410:[],412:[1,2,4,5],413:[],415:[1],416:[],418:[3],421:[1,2,3,4,5],422:[],423:[],424:[3,5],425:[1,2,3,4,5],426:[1,3,5],427:[],428:[1,3,4,5],429:[],430:[3],431:[1,5],434:[2,4],435:[],436:[1,5],438:[],439:[],440:[1,5],442:[],443:[1,5],444:[1,3,4,5],447:[5],448:[1,2,3,4,5],449:[1,3,5],450:[],452:[5],454:[5],455:[],458:[1,2,3,5],459:[1,3,5],461:[],462:[],464:[5],465:[],466:[],467:[],468:[2,3,4,5],469:[1,2,3,4,5],471:[],473:[1,2],474:[1,2],475:[4,5],476:[1,2,3,4,5],478:[2],479:[],480:[1,4,5],482:[],484:[5],486:[1,5],487:[1,2,3,5],488:[1,2,3,4,5],489:[],490:[],491:[],492:[1,5],493:[5],494:[],495:[],496:[],497:[],498:[3],499:[],500:[],501:[],502:[1,2,4],505:[],506:[],507:[1,2,3,5],508:[],509:[],511:[],512:[],513:[],514:[],515:[5],516:[],517:[3],518:[5],519:[3,4,5],520:[5],521:[3,5],522:[],523:[],524:[],525:[5],527:[],528:[],529:[],530:[],531:[],534:[],535:[],536:[3,5],537:[1,2,3,4,5],539:[1,2,3,4,5],540:[],541:[1,2,3,4,5],542:[1,2,3,4,5],543:[3,4,5],544:[1,5],545:[],546:[3,4,5],547:[],548:[],550:[],551:[3],553:[],554:[],556:[],559:[1,2,3,4,5],560:[4],565:[],568:[],569:[3],570:[],571:[],572:[5],577:[1,2,3,4,5],578:[],580:[1,2,3,4,5],587:[],590:[1,2,3,4,5]},featuresIdsByVID:{1:[],2:[2],3:[],4:[2,3],6:[],7:[],8:[1,2],9:[1,2,3],10:[2,3],11:[1,2],12:[3],13:[2,3],14:[2,3],15:[],16:[],17:[2],18:[],19:[2],20:[2],21:[1,2,3],22:[],23:[1,2,3],24:[1,2,3],25:[1,2,3],26:[],27:[],28:[3],29:[1],30:[2,3],31:[2],32:[2,3],33:[2],34:[],35:[],36:[1,2,3],37:[1,2],38:[3],39:[1,2,3],40:[1,2,3],41:[],42:[1,2],43:[3],44:[1,2,3],45:[3],46:[2],47:[],48:[1,2,3],49:[1,2,3],50:[1,2],51:[1,2,3],52:[3],53:[1,2],55:[1,2,3],56:[],57:[1,2],58:[2],59:[3],60:[1,2,3],61:[3],62:[],63:[],64:[],65:[1,2,3],66:[1,2,3],67:[],68:[2],69:[1,2,3],70:[3],71:[1,2,3],72:[],73:[2,3],74:[],75:[3],76:[],77:[2],78:[],79:[1,2,3],80:[],81:[1,2,3],82:[3],83:[],84:[],85:[1,2,3],86:[3],87:[2,3],88:[],89:[2],90:[],91:[1,2],92:[1,2,3],93:[],94:[1,2,3],95:[],97:[1,2],98:[1,2,3],100:[],101:[1,2,3],102:[],104:[1,2,3],105:[2,3],108:[3],109:[1,2,3],110:[],111:[3],112:[],113:[],114:[],115:[1,2,3],118:[2],119:[1,3],120:[1],122:[],124:[3],125:[],126:[],127:[3],128:[1,2,3],129:[1,2,3],130:[1,2],131:[],132:[1,2],133:[1,2,3],134:[1,2],136:[2,3],137:[],138:[],139:[1,2,3],140:[],141:[3],142:[3],143:[],144:[],145:[],147:[],148:[2],149:[],150:[],151:[3],152:[],153:[1,2,3],154:[3],155:[2],156:[1],157:[],158:[1,2,3],159:[],160:[1,2,3],161:[1,2,3],162:[1],163:[1,2],164:[1],165:[],167:[1,2,3],168:[1,2,3],169:[1,3],170:[1,2,3],171:[],173:[1,2,3],174:[],175:[],177:[],178:[],179:[1,2,3],180:[3],182:[1,2,3],183:[2,3],184:[1,2,3],185:[1,2],188:[1,2,3],189:[3],190:[],191:[3],192:[],193:[3],194:[],195:[3],196:[3],197:[],198:[],199:[],200:[],201:[2],202:[1,2,3],203:[],205:[],206:[1,2,3],208:[1,2,3],209:[3],210:[1],211:[1,2,3],212:[],213:[1,2],214:[],215:[1,2,3],216:[],217:[],218:[2,3],221:[3],223:[2],224:[3],225:[3],226:[1],227:[1,2,3],228:[],229:[],230:[],231:[],232:[3],234:[1,2],235:[2,3],236:[3],237:[2,3],238:[1,2,3],239:[],240:[],241:[1,2,3],242:[2,3],243:[1,2],244:[1,2],245:[1,2],246:[],248:[3],249:[2,3],250:[],251:[],252:[3],253:[1,2,3],254:[3],255:[],256:[1,2],257:[1,2],258:[3],259:[],260:[3],261:[1,2],262:[3],263:[],264:[2,3],265:[],266:[1],268:[1,2,3],269:[1,2,3],270:[],272:[1,2,3],273:[],274:[],275:[1,3],276:[3],277:[1,2],278:[],279:[3],280:[],281:[1,2],282:[],284:[1,2,3],285:[],287:[3],288:[],289:[3],290:[],291:[],293:[],294:[3],295:[2],297:[],298:[3],299:[1,2],301:[1,2],302:[3],303:[],304:[1,2,3],308:[],309:[1],310:[],311:[3],312:[],314:[],315:[3],316:[3],317:[2,3],318:[],319:[3],320:[2,3],321:[2],323:[1,2],325:[1,2,3],326:[],328:[2],329:[],330:[],331:[2,3],333:[1,2,3],334:[2,3],335:[],336:[3],337:[1,2],338:[1,2,3],339:[],340:[1,3],341:[1,2,3],343:[3],344:[],345:[1,2,3],346:[],347:[],349:[2],350:[1,2,3],351:[1,2,3],354:[],357:[1,2,3],358:[1],359:[1,2,3],360:[1,2],361:[1,2],362:[1,2,3],365:[],366:[1,2,3],368:[1,2,3],369:[],371:[3],373:[1,2],374:[1,2],375:[3],376:[1,2,3],377:[3],378:[],380:[2,3],381:[],382:[],384:[],385:[2],387:[],388:[1,2,3],389:[],390:[1,3],391:[3],392:[3],394:[1,2],395:[],397:[1,2,3],398:[3],400:[2,3],402:[2],403:[3],404:[],405:[2],407:[1,2,3],408:[3],409:[1,2],410:[],412:[],413:[1,2],415:[],416:[1,2,3],418:[3],421:[3],422:[],423:[],424:[],425:[1,2,3],426:[2],427:[3],428:[],429:[2,3],430:[],431:[1,3],434:[1,3],435:[1,3],436:[1,2,3],438:[2,3],439:[1,2,3],440:[],442:[],443:[2],444:[3],447:[],448:[1,2,3],449:[3],450:[1,3],452:[2],454:[3],455:[2,3],458:[1],459:[],461:[],462:[1,2,3],464:[2],465:[1],466:[],467:[2],468:[1,2],469:[1,2],471:[1,2,3],473:[],474:[],475:[1,2,3],476:[1],478:[],479:[2,3],480:[1,2,3],482:[],484:[],486:[],487:[1],488:[],489:[],490:[],491:[],492:[1],493:[2],494:[],495:[3],496:[],497:[1,2,3],498:[3],499:[],500:[2,3],501:[1,2],502:[3],505:[],506:[2],507:[1,2,3],508:[1,2,3],509:[],511:[1,2,3],512:[3],513:[1,2],514:[],515:[1,2],516:[],517:[2],518:[2,3],519:[1,2,3],520:[],521:[],522:[1,2],523:[1,2,3],524:[2,3],525:[3],527:[3],528:[],529:[1,2,3],530:[3],531:[],534:[2,3],535:[],536:[1,2],537:[1,2,3],539:[],540:[],541:[3],542:[],543:[],544:[],545:[],546:[3],547:[],548:[2,3],550:[1,3],551:[],553:[2,3],554:[1,2,3],556:[3],559:[2],560:[],565:[],568:[3],569:[],570:[1,2],571:[3],572:[],577:[1,2],578:[3],580:[1,2,3],587:[1,3],590:[]}},Gt=function(e){return new function e(t,n,a,i,o){var r=this,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];B()(this,e),d()(this,"shortVendorList",void 0),d()(this,"consentData",void 0),d()(this,"canPersonalise",void 0),d()(this,"allowedVendorIds",void 0),d()(this,"vendorConsentData",void 0),d()(this,"vendorConsentResponse",void 0),d()(this,"getVendorConsentsObject",void 0),d()(this,"getVendorConsentsObject",function(e){if(r.vendorConsentData){var t=function(e,t,n){var a=e.maxVendorId,i=void 0===a?0:a,o=e.selectedVendorIds,r=void 0===o?[]:o,s=e.selectedPurposeIds,c=void 0===s?[]:s,d={};t.purposeIDs.forEach(function(e){d[e]=!1}),c.forEach(function(e){d[e]=!0});var l={};if(n&&n.length)n.forEach(function(e){l[e]=!1});else for(var u=1;u<=i;u+=1)l[u]=!1;return r.filter(function(e){return e in l}).forEach(function(e){l[e]=!0}),{maxVendorId:i,purposeConsents:d,vendorConsents:l}}(r.vendorConsentData,r.shortVendorList,e);return vt.info("GetVendorConsentsObject: Successfully generated response"),le()({},r.consentData,t)}}),this.shortVendorList=o,this.canPersonalise=i,this.allowedVendorIds=Object.keys(o.purposesByVID).map(function(e){return parseInt(e,10)}),this.consentData=Rt(t,n,a,o.version),this.vendorConsentData=Dt(t,n,a,i,o,s)}(ht.b,ht.c,ht.e,function(e){var t=Object(mt.d)(e);return!(!t||"1"!==t.split(".")[0])||(!t||"0"!==t.split(".")[0])&&null}(ht.d),Ft,e)},zt=function e(t){var n=this;B()(this,e),d()(this,"isLoaded",void 0),d()(this,"cmpReady",void 0),d()(this,"cmpConfig",void 0),d()(this,"eventListeners",void 0),d()(this,"commandQueue",void 0),d()(this,"store",void 0),d()(this,"generateConsentString",void 0),d()(this,"processCommand",void 0),d()(this,"generateConsentString",function(){var e=n.store,t=e.vendorConsentData,a=e.shortVendorList;if(n.store.vendorConsentData&&n.store.shortVendorList)return vt.info("GenerateConsentString: Persisted vendor consent data found"),function(e,t){var n=e.selectedPurposeIds,a=void 0===n?[]:n,i=e.selectedVendorIds,o=void 0===i?[]:i,r=e.maxVendorId,s=t?t.purposeIDs:[],c=Lt(le()({},e,{maxVendorId:r,purposeIdBitString:Mt(s,a),isRange:!1,vendorIdBitString:Et(r,o)})),d=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],a=[],i=1;i<=e;i+=1)if(t.includes(i)&&n.push(i),(!t.includes(i)||i===e)&&n.length){var o=n.shift(),r=n.pop();n=[],a.push({isRange:"number"==typeof r,startVendorId:o,endVendorId:r})}return a}(r,o),l=Lt(le()({},e,{maxVendorId:r,purposeIdBitString:Mt(s,a),isRange:!0,defaultConsent:!1,numEntries:d.length,vendorRangeList:d}));return c&&l?c.length<l.length?c:l:(vt.error("Could not encode vendor consent data"),"")}(le()({},t,{shortVendorList:a}));vt.info("GenerateConsentString: No vendor consent data found")}),d()(this,"commands",{getVendorConsents:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=n.store.getVendorConsentsObject(e)||{};t(le()({gdprApplies:n.cmpConfig.gdprApplies,hasGlobalScope:n.cmpConfig.storeConsentGlobally,metadata:n.generateConsentString()||void 0},a),!0)},getConsentData:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){})({gdprApplies:n.cmpConfig.gdprApplies,hasGlobalScope:n.cmpConfig.storeConsentGlobally,consentData:n.generateConsentString()||void 0},!0)},getVendorList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};Object(gt.a)(a.a.get("libs.cmp.fullVendorDataUrl"),{mode:"cors"}).then(function(n){var a=(n||{}).vendorListVersion;e&&e!==a?t(null,!1):t(n,!0)}).then(void 0,function(e){vt.error("ERROR fetching fullvendorlist: ",e),t(null,!1)})},ping:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){})({gdprAppliesGlobally:n.cmpConfig.storeConsentGlobally,cmpLoaded:!0},!0)},addEventListener:function(e,t){var a=n.eventListeners[e]||[];a.push(t),n.eventListeners[e]=a,"isLoaded"===e&&n.isLoaded&&t({event:e}),"cmpReady"===e&&n.cmpReady&&t({event:e})}}),d()(this,"processCommand",function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};"function"!=typeof n.commands[e]?vt.error('Invalid CMP command "'.concat(e,'"')):(vt.info("Proccess command: ".concat(e,", parameter: ").concat(t||"unknown")),n.commands[e](t,a))}),d()(this,"processCommandQueue",function(){var e=P()(n.commandQueue);e.length&&(vt.info("Process ".concat(e.length," queued commands")),n.commandQueue=[],e.forEach(function(e){var t=e.callId,a=e.command,i=e.parameter,o=e.callback,r=e.event;r?n.processCommand(a,i,function(e){return r.source.postMessage({__cmpReturn:{callId:t,command:a,returnValue:e}},r.origin)}):n.processCommand(a,i,o)}))}),d()(this,"receiveMessage",function(e){var t=e.data,a=e.origin,i=e.source;if(t instanceof Object){var o=t.__cmpCall;if(o){vt.info("Message from: ".concat(a));var r=o.callId,s=o.command,c=o.parameter;i&&i.postMessage?n.processCommand(s,c,function(e){return i.postMessage({__cmpReturn:{callId:r,command:s,returnValue:e}},a)}):vt.debug("Missing source: Unable to process command from ".concat(a))}}}),d()(this,"notify",function(e,t){vt.info("Notify event: ".concat(e)),(n.eventListeners[e]||[]).forEach(function(n){n({event:e,data:t})}),"onSubmit"===e&&n.processCommandQueue()}),this.isLoaded=!1,this.cmpReady=!1,this.store=t,this.commandQueue=[],this.eventListeners={},this.processCommand.receiveMessage=this.receiveMessage,this.cmpConfig=ht.h,Object(_.d)().cmpdebug&&(this.cmpConfig.logging="debug",vt.info("Set logging level to DEBUG")),"EU"===(Object(mt.d)("GU_geo_continent")||"OTHER").toUpperCase()&&(this.cmpConfig.gdprApplies=!0)},Vt=n(8),Nt=function(e){return Vt.a.set("lotameConsent",e)},Ht=function(e){if(e&&e.vendorConsents&&e.purposeConsents){var t=e.vendorConsents,n=e.purposeConsents;return Object.keys(t).every(function(e){return t[e]})&&Object.keys(n).every(function(e){return n[e]})}return!1},Ut=function(e){console.log("Failed to extract lotame data:",e)},qt=n(45),$t=n(121),Wt=n(170),Qt=n(19),Yt={hash:function(e){var t=e;t=decodeURIComponent(encodeURIComponent(t));for(var n=[1518500249,1859775393,2400959708,3395469782],a=(t+=String.fromCharCode(128)).length/4+2,i=Math.ceil(a/16),o=new Array(i),r=0;r<i;r++){o[r]=new Array(16);for(var s=0;s<16;s++)o[r][s]=t.charCodeAt(64*r+4*s)<<24|t.charCodeAt(64*r+4*s+1)<<16|t.charCodeAt(64*r+4*s+2)<<8|t.charCodeAt(64*r+4*s+3)}o[i-1][14]=8*(t.length-1)/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=8*(t.length-1)&4294967295;for(var c,d,l,u,p,m=1732584193,g=4023233417,f=2562383102,h=271733878,b=3285377520,v=new Array(80),y=0;y<i;y++){for(var w=0;w<16;w++)v[w]=o[y][w];for(var k=16;k<80;k++)v[k]=Yt.ROTL(v[k-3]^v[k-8]^v[k-14]^v[k-16],1);c=m,d=g,l=f,u=h,p=b;for(var _=0;_<80;_++){var C=Math.floor(_/20),j=Yt.ROTL(c,5)+Yt.f(C,d,l,u)+p+n[C]+v[_]&4294967295;p=u,u=l,l=Yt.ROTL(d,30),d=c,c=j}m=m+c&4294967295,g=g+d&4294967295,f=f+l&4294967295,h=h+u&4294967295,b=b+p&4294967295}return Yt.toHexStr(m)+Yt.toHexStr(g)+Yt.toHexStr(f)+Yt.toHexStr(h)+Yt.toHexStr(b)},f:function(e,t,n,a){switch(e){case 0:return t&n^~t&a;case 1:return t^n^a;case 2:return t&n^t&a^n&a;case 3:return t^n^a}},ROTL:function(e,t){return e<<t|e>>>32-t},toHexStr:function(e){for(var t="",n=7;n>=0;n--)t+=(e>>>4*n&15).toString(16);return t}},Jt=Yt,Kt=["dfp-ad--merchandising-high","dfp-ad--im"],Xt=n(4),Zt=n.n(Xt),en=function(){return!!(navigator&&navigator.userAgent&&(navigator.userAgent.indexOf("Google Web Preview")>-1||navigator.userAgent.indexOf("googleweblight")>-1))},tn=Promise.resolve();en()||(tn=n.e(29).then(n.t.bind(null,617,7)));var nn,an,on=T()(function(){return tn.then(function(){return"prebid"!==C.externalDemand||!f.a.dfpAdvertising||f.a.adFree||a.a.get("page.hasPageSkin")||en()||(Object(oe.c)(),function(e){Re=!0;var t=a.a.get("switches.prebidUserSync",!1)?{syncsPerBidder:999,filterSettings:{all:{bidders:"*",filter:"include"}}}:{syncEnabled:!1},n=Object.assign({},{bidderTimeout:1500,priceGranularity:Le,userSync:t},a.a.get("switches.enableConsentManagementService",!1)?{consentManagement:Se}:{},a.a.get("switches.prebidS2sozone",!1)?{s2sConfig:Ee}:{});e.pbjs.setConfig(n),a.a.get("switches.prebidAnalytics",!1)&&e.pbjs.enableAnalytics([{provider:"gu",options:{ajaxUrl:a.a.get("page.ajaxUrl"),pv:a.a.get("ophan.pageViewId")}}]),e.pbjs.bidderSettings={},a.a.get("switches.prebidXaxis",!1)&&(e.pbjs.bidderSettings.xhb={adserverTargeting:[{key:"hb_buyer_id",val:function(e){return e.appnexus?e.appnexus.buyerMemberId:""}}]})}(window)),Promise.resolve()})}),rn=function(){var e=[on(),ct()];return Promise.all(e).then(function(){if(f.a.adFree)return Promise.resolve();var e=rt()(C.adSlotSelector).filter(function(e){return!(e.id in C.advertIds)}).map(function(e){return new ee(e)}),t=C.adverts.length;C.adverts=C.adverts.concat(e),e.forEach(function(e,n){C.advertIds[e.id]=t+n}),e.forEach(ne),C.shouldLazyLoad()?function(){var e;window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices(),e=C.advertsToLoad.filter(function(e){return Kt.includes(e.id)}),C.advertsToLoad=C.advertsToLoad.filter(function(e){return!Kt.includes(e.id)}),e.forEach(Fe),C.advertsToLoad.forEach(function(e){He(e)})}():(window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices(),Fe(C.advertsToLoad[0]),C.advertsToLoad.length=0,function(){var e=document.body,t=a.a.get("page.hasPageSkin"),n=function(){t&&Object(w.h)(!0)&&!f.a.adFree&&e&&Zt.a.write(function(){e.classList.toggle("has-active-pageskin",Object(w.m)({min:"wide"}))})};n(),y.a.on("window:throttledResize",n)}())})},sn=n(36),cn="".concat(window.location.protocol,"//tpc.googlesyndication.com"),dn=function(e,t,n){t.postMessage(JSON.stringify(e),n||cn)},ln="".concat(window.location.protocol,"//").concat(window.location.host),un=function(e){var t=ze(e.slot.getSlotElementId());if(t){var n=t.node.getElementsByTagName("iframe")[0];dn({id:n.id,host:ln},n.contentWindow)}},pn=n(322),mn=[cn,"".concat(window.location.protocol,"//").concat(window.location.host)],gn={},fn=0,hn={code:405,message:"Service %% not implemented"},bn={code:500,message:"Internal server error\n\n%%"},vn=function(e){if(e.slotId){var t=document.getElementById("dfp-ad--".concat(e.slotId)),n=t?t.getElementsByTagName("iframe"):null;return n&&n.length?n[0]:null}if(e.iframeId)return document.getElementById(e.iframeId)},yn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce(function(e,t){return e.message=e.message.replace("%%",t),e},e)},wn=function(e){var t;if(!(mn.indexOf(e.origin)<0)){try{t=JSON.parse(e.data)}catch(e){return}var n;if("set-ad-height"===(n=t).type&&("id"in n.value||"slotId"in n.value)&&"height"in n.value&&(t=function(e){return{id:"aaaa0000-bb11-cc22-dd33-eeeeee444444",type:"resize",iframeId:e.value.id,slotId:e.value.slotId,value:{height:+e.value.height,width:+e.value.width}}}(t)),function(e){return"type"in e&&"value"in e&&"id"in e&&e.type in gn&&/^[a-f0-9]{8}-([a-f0-9]{4}-){3}[a-f0-9]{12}$/.test(e.id)}(t)){var a=function(n,a){dn({id:t.id,error:n,result:a},e.source,e.origin)};if(Array.isArray(gn[t.type])&&gn[t.type].length)return gn[t.type].slice().reduce(function(e,n){return e.then(function(e){var a=n(t.value,e,vn(t));return void 0===a?e:a})},Promise.resolve(!0)).then(function(e){a(null,e)}).catch(function(e){Object(r.a)(e,{feature:"native-ads"}),a(yn(bn,e),null)});"function"==typeof gn[t.type]?gn[t.type](a,t.value,vn(t)):a(yn(hn,t.type),null)}}},kn=function(e,t,n){0===fn&&(n&&n.window||window).addEventListener("message",wn),n&&n.persist?(gn[e]=t,fn+=1):(gn[e]=gn[e]||[],-1===gn[e].indexOf(t)&&(gn[e].push(t),fn+=1))},_n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===gn[e])throw new Error(yn(hn,e));if(void 0===t)fn-=gn[e].length,gn[e].length=0;else if(gn[e]===t)gn[e]=null,fn-=1;else{var a=gn[e].indexOf(t);a>-1&&(fn-=1,gn[e].splice(a,1))}0===fn&&(n.window||window).removeEventListener("message",wn)},Cn=!(!document.documentElement||!document.documentElement.classList.contains("has-no-sticky")),jn=function e(t,n,a){an.contains(a)&&(_n("resize",e),nn.updatePosition())},Pn=function(e){var t=e.dataset.name;return"comments"===t||"right"===t},On=function(e){Pn(e)&&(an=e);var t=document.querySelector(".js-comments");t&&e&&s.a.read(function(){return t.offsetHeight-600}).then(function(t){return s.a.write(function(){e.parentNode.style.height="".concat(t,"px")})}).then(function(){Cn&&((nn=new pn.a(e)).init(),kn("resize",jn)),y.a.emit("page:commercial:sticky-comments-mpu")})};On.whenRendered=new Promise(function(e){y.a.on("page:commercial:sticky-comments-mpu",e)});var Bn=function(e){Pn(e)&&(an=e);var t=document.querySelector(".js-article__body,.js-liveblog-body-content");t&&e&&!a.a.get("page.hasShowcaseMainElement")&&s.a.read(function(){return t.offsetTop+300}).then(function(t){return s.a.write(function(){e.parentNode.style.height="".concat(t,"px")})}).then(function(){if(Cn){var t=a.a.get("page.isPaidContent")?{top:43}:{};(nn=new pn.a(e,t)).init(),kn("resize",jn)}y.a.emit("page:commercial:sticky-mpu")})};Bn.whenRendered=new Promise(function(e){y.a.on("page:commercial:sticky-mpu",e)});var xn,An,In,Ln=n(133),Sn=n.n(Ln),En=n(389),Mn=n(180),Tn=function(e){(new Image).src=e},Rn=function(e,t,n){var a=document.createRange();a.setStart(e,0),a.setEnd(e,0),e.appendChild(a.createContextualFragment(n.replace("INSERT_UNIQUE_ID",t)))},Dn=n(467),Fn=n.n(Dn),Gn=n(468),zn=n.n(Gn),Vn=n(179),Nn=n.n(Vn),Hn=n(174),Un=n.n(Hn),qn=function(){function e(t,n){B()(this,e),d()(this,"adSlot",void 0),d()(this,"params",void 0),this.adSlot=t,this.params=n}return A()(e,[{key:"create",value:function(){var e=this;this.params.externalLinkIcon=Object(Mn.a)(Nn.a.markup,["frame__external-link-icon"]),this.params.target="yes"===this.params.newWindow?"_blank":"_self",this.params.id="frame-".concat(Math.floor(1e4*Math.random()).toString(16));var t=Sn()(Fn.a)({data:this.params}),n=Sn()(zn.a)({data:{buttonTitle:"Ad",infoTitle:"Advertising on the Guardian",infoText:"is created and paid for by third parties.",infoLinkText:"Learn more about how advertising supports the Guardian.",infoLinkUrl:"https://www.theguardian.com/advertising-on-the-guardian",icon:Object(Mn.a)(Un.a.markup,["gu-comlabel__icon"]),dataAttr:this.adSlot.id}});return s.a.write(function(){return e.adSlot.insertAdjacentHTML("beforeend",t),e.adSlot.lastElementChild&&e.adSlot.lastElementChild.insertAdjacentHTML("afterbegin",n),e.adSlot.classList.add("ad-slot--frame"),e.params.trackingPixel&&Tn(e.params.trackingPixel+e.params.cacheBuster),e.params.researchPixel&&Tn(e.params.researchPixel+e.params.cacheBuster),e.params.viewabilityTracker&&Rn(e.adSlot,e.params.id,e.params.viewabilityTracker),new En.a(e.adSlot).init(),!0})}}]),e}(),$n=n(34),Wn=n.n($n),Qn=n(469),Yn=n.n(Qn),Jn=n(470),Kn=n.n(Jn),Xn=n(471),Zn=n.n(Xn),ea=!Object(w.l)(),ta="object"===Wn()(w.f)&&"MSIE"===w.f.browser&&parseInt(w.f.version,10)<=10,na=function(){function e(t,n){B()(this,e),d()(this,"adSlot",void 0),d()(this,"params",void 0),d()(this,"scrollingBg",void 0),d()(this,"layer2",void 0),d()(this,"scrollType",void 0),this.adSlot=t,this.params=n}return A()(e,[{key:"create",value:function(){var e=this;xn||(xn=Sn()(Yn.a),An=Sn()(Kn.a),In=Sn()(Zn.a));var t={position:"left"===this.params.videoPositionH||"right"===this.params.videoPositionH?"".concat(this.params.videoPositionH,":").concat(this.params.videoHorizSpace,"px;"):""},n={id:"fabric-".concat(Math.trunc(1e4*Math.random()).toString(16)),showLabel:"hide"!==this.params.showAdLabel,video:this.params.videoURL?An(Object.assign({},this.params,t)):"",hasContainer:"layerTwoAnimation"in this.params,layerTwoBGPosition:!this.params.layerTwoBGPosition||this.params.layerTwoAnimation&&"disabled"!==this.params.layerTwoAnimation&&(Object(w.n)()||"enabled"!==this.params.layerTwoAnimation)?"0% 0%":this.params.layerTwoBGPosition,scrollbg:!(!this.params.backgroundImagePType||"none"===this.params.backgroundImagePType)&&In(this.params)};return n.scrollbg&&(s.a.read(this.updateBgPosition,this),y.a.on("window:throttledScroll",this.updateBgPosition.bind(this)),y.a.on("window:throttledResize",this.updateBgPosition.bind(this))),this.params.trackingPixel&&Tn(this.params.trackingPixel+this.params.cacheBuster),this.params.researchPixel&&Tn(this.params.researchPixel+this.params.cacheBuster),s.a.write(function(){return e.adSlot.insertAdjacentHTML("beforeend",xn({data:Object.assign({},e.params,n)})),e.scrollingBg=e.adSlot.querySelector(".ad-scrolling-bg"),e.layer2=e.adSlot.querySelector(".hide-until-tablet .fabric-v1_layer2"),e.scrollType=e.params.backgroundImagePType,"enabled"===e.params.layerTwoAnimation&&e.layer2&&Object(w.n)()&&!ta&&(e.layer2.style.backgroundPosition=""),"fixed"===e.scrollType&&e.scrollingBg&&ea&&(e.scrollingBg.style.backgroundAttachment="fixed"),e.adSlot.classList.add("ad-slot--fabric-v1"),e.adSlot.classList.add("ad-slot--fabric"),e.adSlot.classList.add("content__mobile-full-width"),e.adSlot.parentNode&&e.adSlot.parentNode instanceof HTMLElement&&e.adSlot.parentNode.classList.contains("top-banner-ad-container")&&e.adSlot.parentNode.classList.add("top-banner-ad-container--fabric"),e.params.viewabilityTracker&&Rn(e.adSlot,e.params.id,e.params.viewabilityTracker),!0})}},{key:"updateBgPosition",value:function(){var e=this;if("parallax"===this.scrollType){var t=Math.ceil(.3*this.adSlot.getBoundingClientRect().top)+20;s.a.write(function(){e.scrollingBg&&(e.scrollingBg.style.backgroundPosition="50% ".concat(t,"%"),e.scrollingBg.classList.add("ad-scrolling-bg-parallax"))})}else if("fixed"===this.scrollType&&!ea){var n=this.adSlot.getBoundingClientRect(),a=(window.innerHeight-n.bottom+n.height/2)/window.innerHeight*100;s.a.write(function(){e.scrollingBg&&(e.scrollingBg.style.backgroundPosition="50% ".concat(a,"%"))})}this.layer2Animation()}},{key:"layer2Animation",value:function(){var e,t=this;"enabled"===this.params.layerTwoAnimation&&Object(w.n)()&&!ta&&(e=Object(w.g)().height>this.adSlot.getBoundingClientRect().top,s.a.write(function(){t.layer2&&t.layer2.classList.add("ad-scrolling-text-hide".concat(t.params.layerTwoAnimationPosition?"-".concat(t.params.layerTwoAnimationPosition):"")),t.layer2&&e&&t.layer2.classList.add("ad-scrolling-text-animate".concat(t.params.layerTwoAnimationPosition?"-".concat(t.params.layerTwoAnimationPosition):""))}))}}]),e}(),aa=n(11),ia=n.n(aa),oa=n(472),ra=n.n(oa),sa=n(473),ca=n.n(sa),da=n(152),la=n.n(da),ua=n(104),pa=n.n(ua),ma=n(474),ga=n.n(ma),fa=function(){function e(t,n){B()(this,e),d()(this,"adSlot",void 0),d()(this,"params",void 0),d()(this,"isClosed",void 0),d()(this,"initialExpandCounter",void 0),d()(this,"closedHeight",void 0),d()(this,"openedHeight",void 0),d()(this,"$button",void 0),d()(this,"$ad",void 0),this.adSlot=t,this.params=n,this.isClosed=!0,this.initialExpandCounter=!1,this.closedHeight=250,this.openedHeight=500,ga()(this,"updateBgPosition","listener")}return A()(e,[{key:"updateBgPosition",value:function(){var e,t=this,n=Object(w.g)().height,a=this.adSlot.getBoundingClientRect().top,i=this.isClosed?this.closedHeight:this.openedHeight,o="true"==(n>a&&.5*n<a?"true":"false")?50- -.2*(.5*n-a):50,r="true"==(2*-i<a+20&&.4*n-i>a?"true":"false")?.2*(.4*n-a-i):0;switch(this.params.backgroundImagePType){case"split":e=o+r,s.a.write(function(){Object(v.a)(".ad-exp--expand-scrolling-bg",t.adSlot).css({"background-repeat":"no-repeat","background-position":"50%".concat(e,"%")})});break;case"fixed":e=-a,s.a.write(function(){Object(v.a)(".ad-exp--expand-scrolling-bg",t.adSlot).css("background-position","50%".concat(e,"px"))});break;case"fixed matching fluid250":s.a.write(function(){Object(v.a)(".ad-exp--expand-scrolling-bg",t.adSlot).addClass("ad-exp--expand-scrolling-bg-fixed")});break;case"parallax":e=Math.ceil(.3*a)+20,s.a.write(function(){Object(v.a)(".ad-exp--expand-scrolling-bg",t.adSlot).addClass("ad-exp--expand-scrolling-bg-parallax"),Object(v.a)(".ad-exp--expand-scrolling-bg",t.adSlot).css("background-position","50%".concat(e,"%"))})}}},{key:"listener",value:function(){var e=this;if(!this.initialExpandCounter&&Object(w.g)().height>this.adSlot.getBoundingClientRect().top+this.openedHeight){var t=Object(v.a)(".ad-slot__content",this.adSlot).attr("id").split("/");return Vt.a.get("gu.commercial.expandable.".concat(t[1]))?this.isClosed&&s.a.write(function(){Object(v.a)(".ad-exp__open-chevron").addClass("chevron-up")}):s.a.write(function(){Vt.a.set("gu.commercial.expandable.".concat(t[1]),!0,{expires:Date.now()+6048e5}),e.$button.addClass("button-spin"),Object(v.a)(".ad-exp__open-chevron").removeClass("chevron-up").addClass("chevron-down"),e.$ad.css("height",e.openedHeight),e.isClosed=!1,e.initialExpandCounter=!0}),!0}}},{key:"buildVideo",value:function(e){var t=Object(w.m)({max:"phablet"})?125:250,n=t*(16/9),a="center"===this.params.videoPositionH?"margin-left: ".concat(n/-2,"px"):"",i="left"===this.params.videoPositionH?"left: ".concat(this.params.videoHorizSpace,"px"):"",o="right"===this.params.videoPositionH?"right: ".concat(this.params.videoHorizSpace,"px"):"",r={width:n,height:t,src:"".concat(this.params.videoURL,"?rel=0&amp;controls=0&amp;showinfo=0&amp;title=0&amp;byline=0&amp;portrait=0"),className:["expandable_video","expandable_video--horiz-pos-".concat(this.params.videoPositionH),e].join(" "),inlineStyle:[a,i,o].join("; ")};return Sn()(ca.a)(r)}},{key:"stopVideo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(w.m)({min:"tablet"})?".js-fabric-video--desktop":".js-fabric-video--mobile",n=Object(v.a)(t,this.adSlot),a=n.attr("src");window.setTimeout(function(){n.attr("src","".concat(a,"&amp;autoplay=0"))},e)}},{key:"create",value:function(){var t=this,n=""!==this.params.videoURL,a={videoDesktop:n?this.buildVideo("js-fabric-video--desktop"):""},i={videoMobile:n?this.buildVideo("js-fabric-video--mobile"):""},o={showArrow:"arrow-only"===this.params.showMoreType||"plus-and-arrow"===this.params.showMoreType?'<button class="ad-exp__open-chevron ad-exp__open">'.concat(la.a.markup,"</button>"):""},r={showPlus:"plus-only"===this.params.showMoreType||"plus-and-arrow"===this.params.showMoreType?'<button class="ad-exp__close-button ad-exp__open">'.concat(pa.a.markup,"</button>"):""},c={scrollbg:"none"!==this.params.backgroundImagePType?'<div class="ad-exp--expand-scrolling-bg" style="background-image: url('.concat(this.params.backgroundImageP,"); background-position: ").concat(this.params.backgroundImagePPosition," ").concat("0%","; background-repeat: ").concat(this.params.backgroundImagePRepeat,';"></div>'):""};this.params.id="fabric-expanding-".concat(Math.floor(1e4*Math.random()).toString(16));var d=v.a.create(Sn()(ra.a)({data:Object.assign(this.params,o,r,a,i,c)}));return y.a.on("window:throttledScroll",this.listener),ia.a.on(this.adSlot,"click",".ad-exp__open",function(){!t.isClosed&&n&&t.stopVideo(1e3),s.a.write(function(){Object(v.a)(".ad-exp__close-button").toggleClass("button-spin"),Object(v.a)(".ad-exp__open-chevron").removeClass("chevron-up").toggleClass("chevron-down"),t.$ad.css("height",t.isClosed?t.openedHeight:t.closedHeight),t.isClosed=!t.isClosed,t.initialExpandCounter=!0})}),e.hasScrollEnabled&&(this.updateBgPosition(),y.a.on("window:throttledScroll",this.updateBgPosition),y.a.on("window:throttledResize",this.updateBgPosition)),s.a.write(function(){return this.$ad=Object(v.a)(".ad-exp--expand",d).css("height",this.closedHeight),this.$button=Object(v.a)(".ad-exp__open",d),Object(v.a)(".ad-exp-collapse__slide",d).css("height",this.closedHeight),this.params.trackingPixel&&Tn(this.params.trackingPixel+this.params.cacheBuster),this.params.researchPixel&&Tn(this.params.researchPixel+this.params.cacheBuster),d.appendTo(this.adSlot),this.params.viewabilityTracker&&Rn(this.adSlot,this.params.id,this.params.viewabilityTracker),this.adSlot.classList.add("ad-slot--fabric"),this.adSlot.parentNode.classList.contains("top-banner-ad-container")&&this.adSlot.parentNode.classList.add("top-banner-ad-container--fabric"),!0},this)}}]),e}();d()(fa,"hasScrollEnabled",void 0),fa.hasScrollEnabled=!Object(w.o)()&&!Object(w.l)();var ha=n(490),ba=n.n(ha),va=n(491),ya=n.n(va),wa=n(106),ka=n(492),_a=n.n(ka),Ca=n(493),ja=n.n(Ca),Pa=function(){function e(t,n){B()(this,e),d()(this,"isUpdating",void 0),d()(this,"adSlot",void 0),d()(this,"params",void 0),d()(this,"layer2",void 0),d()(this,"video",void 0),d()(this,"hasVideo",void 0),d()(this,"inView",void 0);var a=Object(w.m)({max:"phablet"});this.isUpdating=!1,this.hasVideo=!(Object(w.o)()||Object(w.l)()||a),this.inView=!1,this.adSlot=t,this.params=n,this.params.id="fabric-video-".concat(Math.floor(1e4*Math.random()).toString(16)),a?this.params.posterMobile='<div class="creative__poster" style="background-image:url('.concat(this.params.Videobackupimage,')"></div>'):(this.hasVideo&&(this.params.video='<video muted class="creative__video creative__video--'.concat(this.params.Videoalignment,'"><source src="').concat(this.params.VideoURL,'" type="video/mp4"></video>')),this.params.posterTablet='<div class="creative__poster" style="background-image:url('.concat(this.params.BackgroundImagemobile,')"></div>'))}return A()(e,[{key:"onVideoEnded",value:function(){this.video&&(this.video.onended=null,this.video=null)}},{key:"onScroll",value:function(){var e=Object(w.g)().height,t=this.adSlot.getBoundingClientRect();this.inView=t.top>=0&&t.bottom<e,this.isUpdating||(this.isUpdating=!0,s.a.write(this.updateView,this))}},{key:"updateView",value:function(){this.isUpdating=!1,this.video&&this.updateVideo(),this.updateAnimation()}},{key:"updateVideo",value:function(){this.video&&(this.inView?this.video.play():this.video.pause())}},{key:"updateAnimation",value:function(){this.inView?this.playAnimation():this.pauseAnimation()}},{key:"playAnimation",value:function(){this.layer2&&this.layer2.forEach(function(e){e.classList.add("is-animating")})}},{key:"pauseAnimation",value:function(){this.layer2&&this.layer2.forEach(function(e){e.classList.remove("is-animating")})}},{key:"create",value:function(){var e=this,t=Sn()(_a.a);return s.a.write(function(){e.params.Trackingpixel&&Tn(e.params.Trackingpixel+e.params.cacheBuster),e.params.Researchpixel&&Tn(e.params.Researchpixel+e.params.cacheBuster),e.adSlot.insertAdjacentHTML("beforeend",t({data:e.params})),e.params.viewabilityTracker&&Rn(e.adSlot,e.params.id,e.params.viewabilityTracker),e.adSlot&&e.adSlot.classList.add("ad-slot--fabric"),e.adSlot.parentNode&&e.adSlot.parentNode instanceof Element&&e.adSlot.parentNode.classList.contains("top-banner-ad-container")&&e.adSlot.parentNode.classList.add("top-banner-ad-container--fabric"),ja()(e.adSlot.querySelector("video"))}).then(function(){e.layer2=rt()(".creative__layer2",e.adSlot);var t=e.onScroll.bind(e);return Object(wa.a)(window,"scroll",t,{passive:!0}),Object(wa.a)(e.adSlot,"animationend",function(){window.removeEventListener("scroll",t)}),e.hasVideo&&(e.video=e.adSlot.getElementsByTagName("video")[0],e.video.onended=e.onVideoEnded),s.a.read(e.onScroll,e),!0})}}]),e}(),Oa=!Object(w.l)(),Ba={frame:qn,"fabric-v1":na,"fabric-expanding-v1":fa,"fabric-expandable-video-v2":function(e,t){var n=!0,a=Sn()(ya.a);return Object.freeze({create:function(){var i=t.showCrossInContainer.substring(3),o={id:"fabric-expandable-".concat(Math.round(1e4*Math.random()).toString(16)),desktopCTA:t.ctaDesktopImage?a({media:"hide-until-tablet",link:t.link,image:t.ctaDesktopImage,position:t.ctaDesktopPosition}):"",mobileCTA:t.ctaMobileImage?a({media:"mobile-only",link:t.link,image:t.ctaMobileImage,position:t.ctaMobilePosition}):"",showArrow:"arrow-only"===t.showMoreType||"plus-and-arrow"===t.showMoreType?'<button class="ad-exp__open-chevron ad-exp__open">'.concat(la.a.markup,"</button>"):"",showPlus:"plus-only"===t.showMoreType||"plus-and-arrow"===t.showMoreType?'<button class="ad-exp__close-button ad-exp__open ad-exp__open--'.concat(i,'">').concat(pa.a.markup,"</button>"):"",videoEmbed:""!==t.YoutubeVideoURL?'<iframe id="YTPlayer" width="100%" height="'.concat(500,'" src="').concat(t.YoutubeVideoURL,'?showinfo=0&amp;rel=0&amp;controls=0&amp;fs=0&amp;title=0&amp;byline=0&amp;portrait=0" frameborder="0" class="expandable-video"></iframe>'):""},r=v.a.create(Sn()(ba.a)({data:Object.assign(t,o)})),c=Object(v.a)(".ad-exp--expand",r),d=function(t){var a=Object(v.a)("#YTPlayer").attr("src"),i=a;i=-1===a.indexOf("autoplay")?"".concat(a,"&amp;autoplay=1"):i.replace(t?"autoplay=0":"autoplay=1",t?"autoplay=1":"autoplay=0"),t?(Object(v.a)(".ad-exp__close-button",e).addClass("button-spin"),Object(v.a)(".ad-exp__open-chevron",e).addClass("chevron-down"),c.css("height",500),r.addClass("creative--open"),Object(v.a)(".slide-video, .slide-video .ad-exp__layer",e).css("height",500).addClass("slide-video__expand")):(Object(v.a)(".ad-exp__close-button",e).removeClass("button-spin"),Object(v.a)(".ad-exp__open-chevron",e).removeClass("chevron-down"),c.css("height",250),r.removeClass("creative--open"),Object(v.a)(".slide-video, .slide-video .ad-exp__layer",e).css("height",250).removeClass("slide-video__expand")),n=!t,setTimeout(function(){Object(v.a)("#YTPlayer").attr("src",i)},1e3)};return ia.a.on(e,"click",".ad-exp__open",function(){s.a.write(function(){d(n)})}),ia.a.on(e,"click",".video-container__cta, .creative__cta",function(){s.a.write(function(){d(!1)})}),s.a.write(function(){return c.css("height",250),Object(v.a)(".ad-exp-collapse__slide",r).css("height",250),t.trackingPixel&&Tn(t.trackingPixel+t.cacheBuster),t.researchPixel&&Tn(t.researchPixel+t.cacheBuster),r.appendTo(e),t.viewabilityTracker&&Rn(e,t.id,t.viewabilityTracker),e.classList.add("ad-slot--fabric"),e.parentNode&&e.parentNode.classList.contains("top-banner-ad-container")&&e.parentNode.classList.add("top-banner-ad-container--fabric"),!0})}})},"fabric-video":Pa,"scrollable-mpu-v2":function(){function e(t,n){B()(this,e),d()(this,"adSlot",void 0),d()(this,"params",void 0),d()(this,"$scrollableImage",void 0),d()(this,"$scrollableMpu",void 0),this.adSlot=t,this.params=n,this.$scrollableImage=null,this.$scrollableMpu=null}return A()(e,[{key:"updateBgFluid250",value:function(){var e=this;Zt.a.write(function(){e.$scrollableImage&&e.$scrollableImage.addClass("creative--scrollable-mpu-image-fixed")})}},{key:"updateBgParallax",value:function(){var e=this,t=Math.ceil(.3*this.adSlot.getBoundingClientRect().top)+20;Zt.a.write(function(){e.$scrollableImage&&e.$scrollableImage.addClass("creative--scrollable-mpu-image-parallax").css("background-position","50% ".concat(t,"%"))})}},{key:"updateBg",value:function(){var e=this;if(this.$scrollableMpu){var t=-this.$scrollableMpu[0].getBoundingClientRect().top;Zt.a.write(function(){e.$scrollableImage&&e.$scrollableImage.css("background-position","100% ".concat(t,"px"))})}}},{key:"create",value:function(){var e,t,n=this,a={id:"scrollable-mpu-".concat(Math.floor(1e4*Math.random()).toString(16)),clickMacro:this.params.clickMacro,destination:this.params.destination,layer1Image:Oa?this.params.layer1Image:this.params.mobileImage,backgroundImage:Oa&&this.params.backgroundImage?'<div class="creative--scrollable-mpu-image" style="background-image: url('.concat(this.params.backgroundImage,');"></div>'):""};return this.$scrollableMpu=v.a.create((e=a,'\n<a id="'.concat(e.id,'" class="creative--scrollable-mpu"\n    href="').concat(e.clickMacro).concat(e.destination,'"\n    target="_new">\n    <div class="creative--scrollable-mpu-inner">\n        ').concat(e.backgroundImage,'\n        <div class="creative--scrollable-mpu-static-image" style="background-image: url(\'').concat(e.layer1Image,"');\"></div>\n    </div>\n</a>\n"))).appendTo(this.adSlot),this.params.trackingPixel&&Tn(this.params.trackingPixel+this.params.cacheBuster),this.params.researchPixel&&Tn(this.params.researchPixel+this.params.cacheBuster),this.params.viewabilityTracker&&Rn(this.adSlot,this.params.id,this.params.viewabilityTracker),Oa&&(t="fixed matching fluid250"===this.params.backgroundImagePType?function(){return n.updateBgFluid250()}:"parallax"===this.params.backgroundImagePType?function(){return n.updateBgParallax()}:function(){return n.updateBg()},this.$scrollableImage=Object(v.a)(".creative--scrollable-mpu-image",this.adSlot),Zt.a.read(t),y.a.on("window:throttledScroll",t),y.a.on("window:throttledResize",t)),Promise.resolve(!0)}}]),e}()},xa=n(352),Aa=function(e){return function(t){return function(n,a){return t.some(function(e){return a.node.classList.contains(e)})?s.a.write(function(){e.forEach(function(e){a.node.classList.add(e)})}):Promise.resolve()}}},Ia=Aa(["ad-slot--fluid250"]),La=Aa(["ad-slot--fluid"]),Sa={};Sa[u.fluid]=function(e,t){return La(["ad-slot"])(e,t).then(function(){return e=t.node.querySelector("iframe"),void s.a.write(function(){e&&e.style.removeProperty("vertical-align")});var e})},Sa[u.mpu]=function(e,t){return s.a.read(function(){return t.node.classList.contains("js-sticky-mpu")&&(t.node.classList.contains("ad-slot--right")&&Bn(t.node),t.node.classList.contains("ad-slot--comments")&&On(t.node)),s.a.write(function(){return t.updateExtraSlotClasses()})})},Sa[u.halfPage]=function(e,t){return s.a.read(function(){return t.node.classList.contains("ad-slot--right")&&Bn(t.node),t.node.classList.contains("ad-slot--comments")&&On(t.node),s.a.write(function(){return t.updateExtraSlotClasses()})})},Sa[u.skyscraper]=function(e,t){return s.a.read(function(){return t.node.classList.contains("ad-slot--right")&&Bn(t.node),t.node.classList.contains("ad-slot--comments")&&On(t.node),s.a.write(function(){return t.updateExtraSlotClasses("ad-slot--sky")})})},Sa[u.video]=function(e,t){return s.a.write(function(){t.updateExtraSlotClasses("u-h")})},Sa[u.outstreamDesktop]=function(e,t){return s.a.write(function(){t.updateExtraSlotClasses("ad-slot--outstream")})},Sa[u.outstreamMobile]=function(e,t){return s.a.write(function(){t.updateExtraSlotClasses("ad-slot--outstream")})},Sa[u.googleCard]=function(e,t){return s.a.write(function(){t.updateExtraSlotClasses("ad-slot--gc")})};var Ea=function(e,t){if(!e.slot.getOutOfPage()){var n=t.node.parentNode;return s.a.write(function(){t.node.classList.add("u-h"),n.classList.contains("fc-slice__item--mpu-candidate")&&n.classList.add("fc-slice__item--no-mpu")})}return Promise.resolve()};Sa[u.outOfPage]=Ea,Sa[u.empty]=Ea,Sa[u.portrait]=function(){return xa.a.whenRendered.then(function(e){return s.a.write(function(){e&&e.elem&&(e.elem.remove(),e.elem=null)})})},Sa[u.merchandising]=Ia(["ad-slot--commercial-component"]);var Ma,Ta,Ra=function(e,t){var n,a;return n=e.node,(a=rt()("> div:not(.ad-slot__label)",n)).length&&s.a.write(function(){a[0].classList.add("ad-slot__content")}),function(e){return function(e){return new Promise(function(t,n){var a=e.querySelector('iframe:not([id*="__hidden__"])');a?a.readyState&&"complete"!==a.readyState?a.addEventListener("readystatechange",function e(n){var i=n.srcElement;i&&"complete"===i.readyState&&(i.removeEventListener("readystatechange",e),t(a))}):t(a):n()})}(e).then(function(t){return function(e,t){var n=function(){try{var e=t.contentDocument.body?t.contentDocument.body.querySelector('.breakout__script[type="application/json"]'):null;return e?e.innerHTML:null}catch(e){return null}}();return n?s.a.write(function(){t.style.display="none"}).then(function(){return JSON.parse(n)}).then(function(e){var n=t.contentDocument.getElementById("viewabilityTracker"),a=n?n.childNodes[0].nodeValue.trim():null;return a&&e.params&&(e.params.viewabilityTracker=a),e}).then(function(t){return new Promise(function(n){n(new(0,Ba[t.name])(e,t.params,t.opts).create())})}).catch(function(e){return Object(r.a)(Error("Failed to get creative JSON ".concat(e)),{feature:"commercial"},!1),Promise.resolve(!0)}):Promise.resolve(!0)}(e,t)})}(e.node).then(function(n){return function(){if(e.size){var n=e.size.toString();return"0,0"===n&&(n="fluid"),Promise.resolve(Sa[n]?Sa[n](t,e):s.a.write(function(){e.updateExtraSlotClasses()}))}return Promise.resolve(null)}().then(function(){return t=e.node,s.a.read(function(){if(!((e=t).classList.contains("ad-slot--fluid")||e.classList.contains("ad-slot--frame")||e.classList.contains("ad-slot--gc")||"false"===e.getAttribute("data-label")||e.getElementsByClassName("ad-slot__label").length))return s.a.write(function(){t.insertAdjacentHTML("afterbegin",'<div class="ad-slot__label">Advertisement</div>')});var e});var t}).then(function(){return n?s.a.write(function(){e.node.classList.add("ad-slot--rendered")}):Promise.resolve()}).then(function(){return n})}).catch(Qt.a.captureException)},Da=T()(function(){(new Image).src=a.a.get("page.beaconUrl")+"/count/ad-render.gif"}),Fa=[u.outstreamDesktop.toString(),u.outstreamMobile.toString()],Ga=function(e){Da();var t=ze(e.slot.getSlotElementId());if(t){var n=function(n){t.stopRendering(n),y.a.emit("modules:commercial:dfp:rendered",e)};if(t.stopLoading(!0),t.startRendering(),t.isEmpty=e.isEmpty,e.isEmpty)(function(e){Zt.a.write(function(){window.googletag.destroySlots([e.slot]),e.node.remove(),function(e){var t=function(t){return t.filter(function(t){return t!==e})};C.adverts=t(C.adverts),C.advertsToRefresh=t(C.advertsToRefresh),C.advertsToLoad=t(C.advertsToLoad),C.advertIds={},C.adverts.forEach(function(e,t){C.advertIds[e.id]=t})}(e)})})(t),function(e,t){if(Math.random()<1e-4){var n=t.slot.getAdUnitPath(),a=t.slot.getTargetingKeys().includes("k")?t.slot.getTargeting("k"):[],i=a?a.join(", "):"";Object(r.a)(new Error("dfp returned an empty ad response"),{feature:"commercial",adUnit:n,adSlot:e,adKeywords:i},!1)}}(t.id,e),n(!1);else{t.size=e.size,void 0!==e.creativeId&&C.creativeIDs.push(e.creativeId);var i=t.size&&t.size.toString(),o="0,0"!==i,s=Fa.includes(i),c=e.lineItemId&&a.a.get("page.dfpNonRefreshableLineItemIds",[]).includes(e.lineItemId);t.shouldRefresh=o&&!s&&!a.a.get("page.hasPageSkin")&&!c,Ra(t,e).then(n)}}},za=function(e){var t=ze(e.slot.getSlotElementId());if(t&&t.shouldRefresh){var n=function e(){document.hidden||(document.removeEventListener("visibilitychange",e),He(t))};setTimeout(function(){t.shouldRefresh&&(document.hidden?document.addEventListener("visibilitychange",n):He(t))},3e4)}},Va=function(e){if(Vt.b.isAvailable()){var t=ze(e.slot.getSlotElementId());if(t&&t.maxViewPercentage<e.inViewPercentage){if(t.maxViewPercentage<=90&&e.inViewPercentage>90){var n=Vt.b.get("gu.commercial.slotVisibility")||0;Vt.b.set("gu.commercial.slotVisibility",n+1)}t.maxViewPercentage=e.inViewPercentage}}},Na=Object(w.h)(!0),Ha=w.c.map(function(e){return e.name}),Ua=function(e,t){var n=function(e,t){var n=Ha.slice(0,Ha.indexOf(e)+1).map(X);return Math.max.apply(Math,P()(t.map(function(e){return n.lastIndexOf(e)})))};C.advertsToRefresh.filter(function(a){var i=Object.keys(a.sizes),o=n(e,i),r=n(t,i);return-1!==o&&o!==r}).forEach(Ge)},qa=function(){Na(Ua)},$a=function(){y.a.on("window:throttledResize",qa)},Wa=function(e,t){if(!(e&&"backgroundImage"in e&&"backgroundRepeat"in e&&"backgroundPosition"in e&&"scrollType"in e&&t instanceof Element))return Promise.resolve();var n=function(e){return Object.keys(e).reduce(function(t,n){return"scrollType"!==n&&(t[n]=e[n]),"backgroundColour"===n&&(t.backgroundColor=e[n]),t},{})}(e),a=t.getElementsByClassName("creative__background-parent")[0],i=a?a.getElementsByClassName("creative__background")[0]:null,o=!(!a||!i),r=function(e,t){s.a.read(function(){var e=t.getBoundingClientRect(),n=e.height,a=window.innerHeight,i=Math.floor(e.bottom/(a+n)*130);t.style.backgroundPositionY="".concat(i,"%")})},c=new IntersectionObserver(function(e){e.filter(function(e){return e.isIntersecting}).forEach(function(e){if(!o){var t=e.target.firstChild;t&&t instanceof HTMLElement&&(Object(wa.a)(window,"scroll",function(){return r(0,t)},{passive:!0}),r(0,t))}})},{rootMargin:"10px"});return function(){if(i&&a&&o)return Promise.resolve({backgroundParent:a,background:i});var e=document.createElement("div"),n=document.createElement("div");return e.appendChild(n),s.a.write(function(){e&&t.insertBefore(e,t.firstChild)}).then(function(){return{backgroundParent:e,background:n}})}().then(function(a){return function(a,i){return a.className="creative__background-parent",i.className="".concat("creative__background"," creative__background--").concat(e.scrollType),Object.assign(i.style,n),"fixed"===e.scrollType?s.a.read(function(){if(t instanceof Element)return t.getBoundingClientRect()}).then(function(e){return s.a.write(function(){n.backgroundColor&&(a.style.backgroundColor=n.backgroundColor),e&&(i.style.left="".concat(e.left,"px"),i.style.right="".concat(e.right,"px"),i.style.width="".concat(e.width,"px"))})}).then(function(){return{backgroundParent:a,background:i}}):Promise.resolve({backgroundParent:a,background:i})}(a.backgroundParent,a.background)}).then(function(e){var t=e.backgroundParent;return c.observe(t)})},Qa=n(122),Ya=function(e){var t=String(e).match(/^(\d+)(%|px|em|ex|ch|rem|vh|vw|vmin|vmax)?/);return t?t[1]+(void 0===t[2]?"px":t[2]):""},Ja=window,Ka="IntersectionObserver"in Ja,Xa=!1,Za={},ei=0,ti=function(e,t){var n;Za[e].respond(null,{width:(n=t).width,height:n.height,top:n.top,bottom:n.bottom,left:n.left,right:n.right})},ni=function(e){return[e,Za[e].node.getBoundingClientRect()]},ai=function(e){return e[1].bottom>0&&e[1].top<this.height},ii=function(e){Ta=e.filter(function(e){return e.intersectionRatio>0}).map(function(e){return e.target.id})},oi=function(){if(!Xa){var e=Object(w.g)();return Xa=!0,s.a.read(function(){Xa=!1;var t=Object.keys(Za);Ka?Ta.map(ni).forEach(function(e){ti(e[0],e[1])}):t.map(ni).filter(ai,e).forEach(function(e){ti(e[0],e[1])})})}},ri=function(e,t,n){n&&(t?function(e,t){0===ei&&(Object(wa.a)(Ja,"scroll",oi,{passive:!0}),Ka&&(Ma=new Ja.IntersectionObserver(ii))),Za[e.id]={node:e,visible:!Ka,respond:t},ei+=1,Ka&&Ma&&Ma.observe(e),s.a.read(function(){return e.getBoundingClientRect()}).then(function(t){ti(e.id,t)})}(n,e):function(e){Za[e.id]&&(Ka&&Ma&&Ma.unobserve(e),Za[e.id]=!1,ei-=1),0===ei&&(Ja.removeEventListener("scroll",oi),Ka&&Ma&&(Ma.disconnect(),Ma=null))}(n))},si=window,ci={},di=0,li=!1,ui=function(){return s.a.read(function(){return Object(w.g)()})},pi=function(e,t){ci[e]&&ci[e].respond&&ci[e].respond(null,t)},mi=function(){if(!li)return li=!0,ui().then(function(e){Object.keys(ci).forEach(function(t){pi(t,e)}),li=!1})},gi=function(e,t,n){n&&(t?function(e,t){0===di&&si.addEventListener("resize",mi),ci[e.id]={node:e,respond:t},di+=1,ui().then(function(t){pi(e.id,t)})}(n,e):function(e){ci[e.id]&&(ci[e.id]=!1,di-=1),0===di&&si.removeEventListener("resize",mi)}(n))};!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return e(kn)})}(function(e){e("type",function(e,t,n){return a=e,i=n&&n.closest(".js-ad-slot"),s.a.write(function(){i.classList.add("ad-slot--".concat(a||""))});var a,i})},function(e){e("get-styles",function(e){if(e)return function(e,t){if(!e||"string"!=typeof e.selector)return null;for(var n=[],a=0;a<t.length;a+=1){var i=t[a],o=i.ownerNode;o&&o.matches&&o.matches(e.selector)&&("STYLE"===o.tagName?n.push(o.textContent):n.push(Array.prototype.reduce.call(i.cssRules||[],function(e,t){return e+t.cssText},"")))}return n}(e,document.styleSheets)})},function(e){e("get-page-targeting",function(){return a.a.get("page.sharedAdTargeting")})},function(e){e("resize",function(e,t,n){if(n&&e){var a=n&&n.closest(".js-ad-slot");if(a&&(a.classList.contains("ad-slot--mostpop")||a.classList.contains("ad-slot--right")||a.classList.contains("ad-slot--offset-right")))return null;!function(e){s.a.write(function(){e&&e.classList.remove("ad-slot--outstream")})}(a);var i=n&&n.closest(".ad-slot__content");return function(e,t,n,a){if(!(e&&("height"in e||"width"in e)&&t&&a))return null;var i={};return e.width&&(i.width=Ya(e.width)),e.height&&(i.height=Ya(e.height)),s.a.write(function(){Object.assign(a.style,i),Object.assign(t.style,i),n&&Object.assign(n.style,i)})}(e,n,i,a)}})},function(e){e("hide",function(e,t,n){if(n){var a=n.closest(".js-ad-slot");if(a)return i=a,s.a.write(function(){return i.classList.add("u-h")})}var i})},function(e){e("scroll",ri,{persist:!0})},function(e){e("viewport",gi,{persist:!0})},function(e){e("click",function(e,t){return function(e,t){Object(Qa.b)(e.id,t)}((arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).closest(".js-ad-slot")||{id:"unknown"},e||"")})},function(e){e("background",function(e,t,n){return n&&e?Wa(e,n.closest(".js-ad-slot")):Promise.resolve()})},function(e){e("disable-refresh",function(e,t,n){if(n){var a=n.closest(".js-ad-slot");if(a instanceof HTMLElement){var i=function(e){return C.adverts.find(function(t){return t.node.isSameNode(e)})}(a);i&&(i.shouldRefresh=!1)}}})});var fi,hi,bi,vi,yi,wi,ki,_i,Ci,ji=function(){var e=window.googletag.pubads();if(e.addEventListener("slotRenderEnded",Qt.a.wrap(Ga)),e.addEventListener("slotOnload",Qt.a.wrap(un)),e.addEventListener("impressionViewable","false"!==Object(_.d)().adrefresh?za:function(){}),e.addEventListener("slotVisibilityChanged",Va),Vt.b.isAvailable()){var t=Vt.b.get("gu.commercial.pageViews")||0;Vt.b.set("gu.commercial.pageViews",t+1)}},Pi=function(){switch(Object($t.b)($t.e)){case!0:window.googletag.pubads().setRequestNonPersonalizedAds(0);break;case!1:window.googletag.pubads().setRequestNonPersonalizedAds(1);break;default:window.googletag.pubads()}},Oi=function(){var e=window.googletag.pubads(),t=Object(oe.c)();Object.keys(t).forEach(function(n){e.setTargeting(n,t[n])})},Bi=function(){var e=rt()(C.adSlotSelector);return s.a.write(function(){return e.forEach(function(e){return e.remove()})})},xi=function(){var e=Object(sn.j)();if(e){var t=Jt.hash(e.id);window.googletag.pubads().setPublisherProvidedId(t)}},Ai=0,Ii=function(e,t){var n,a=!!t;return{bodySelector:".js-liveblog-body",slotSelector:" > .block",fromBottom:a,startAt:a?hi:null,absoluteMinAbove:a?0:1.5*fi,minAbove:0,minBelow:0,clearContentMeta:0,selectors:{},filter:function(t){return n?Math.abs(t.top-n.top)>2*e&&(n=t,!0):(n=t,!a)}}},Li=function(e){for(var t="mobile"===Object(w.d)(),n=function(n){var a=function(e,t){return e&&0===t?"top-above-nav":"inline".concat(e?t:t+1)}(t,Ai),i=g("inline",{name:a,classes:"liveblog-inline"});i.forEach(function(t){e[n]&&e[n].parentNode&&e[n].parentNode.insertBefore(t,e[n].nextSibling)}),e[n]&&e[n].parentNode&&(Ue(i[0],!1),Ai+=1)},a=0;a<e.length&&Ai<8;a+=1)n(a)},Si=function(e){return k.a.fillSpace(e,Li).then(function(t){if(t&&Ai<8){var n=document.querySelector("".concat(e.bodySelector," > .ad-slot"));hi=n&&n.previousSibling instanceof HTMLElement?n.previousSibling:null,y.a.on("modules:autoupdate:updates",Ei)}else hi=null})},Ei=function(){y.a.off("modules:autoupdate:updates",Ei),Promise.resolve(Ii(fi,!0)).then(Si)},Mi="dfp-ad--top-above-nav",Ti=!1,Ri=function(e){return wi===e?Promise.resolve(-1):s.a.write(function(){if(_i&&bi){var t="".concat(e,"px");_i.classList.add("sticky-top-banner-ad"),_i.style.height=t,bi.style.marginTop=t}return void 0!==wi&&vi<=Ci&&window.scrollBy(0,e-wi),wi=e,e})},Di=function(){return s.a.write(function(){_i&&bi&&(Ci<=vi?(bi.classList.add("l-header--animate"),_i.classList.add("sticky-top-banner-ad--animate")):(bi.classList.remove("l-header--animate"),_i.classList.remove("sticky-top-banner-ad--animate")))})},Fi=function(){return Ci=window.pageYOffset,Ti?Promise.resolve():(Ti=!0,s.a.write(function(){Ti=!1,_i&&(vi<Ci?(_i.style.position="absolute",_i.style.top="".concat(vi,"px")):(_i.style.position="",_i.style.top=""))}).then(Di))},Gi=function(e){return s.a.read(function(){return ki=ki||window.getComputedStyle(yi),e+parseInt(ki.paddingTop,10)+parseInt(ki.paddingBottom,10)}).then(Ri)},zi=function e(t,n,a){yi&&yi.contains(a)&&(Gi(t.height),_n("resize",e))},Vi=function(){kn("resize",zi),Object(wa.a)(window,"scroll",Fi,{passive:!0})},Ni=function(e,t){if(e&&e.size&&"string"!=typeof e.size)return e.size[t]},Hi=function(){Ui.whenFirstRendered=We(Mi).then(function(e){if(e){var t=ze(Mi),n=Ni(t,0),a=Ni(t,1);return 88!==n&&a&&a>0?s.a.read(function(){var e=window.getComputedStyle(yi);return parseInt(e.paddingTop,10)+parseInt(e.paddingBottom,10)+a||0}).then(Ri):s.a.read(function(){return yi&&yi.getBoundingClientRect().height||0}).then(Ri)}})},Ui={update:Gi,resizeStickyBanner:Ri,onScroll:Fi,whenFirstRendered:null},qi=n(494),$i=n.n(qi),Wi={books:"P5033A084-E9BF-453A-91D3-C558751D9A85",business:"P5B109609-6223-45BA-B052-55F34A79D7AD",commentisfree:"PA878EFC7-93C8-4352-905E-9E03883FD6BD",artanddesign:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",culture:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",stage:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",education:"P4A01DB74-5B97-435A-89F0-C07EA2C739EC",environment:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",cities:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","global-development":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","sustainable-business":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",fashion:"PCF345621-F34D-40B2-852C-6223C9C8F1E2",film:"P878ECFA5-14A7-4038-9924-3696C93706FC",law:"P1FA129DD-9B9E-49BB-98A4-AA7ED8523DFD",lifeandstyle:"PCFE04250-E5F6-48C7-91DB-5CED6854818C",media:"P1434DC6D-6585-4932-AE17-2864CD0AAE99",money:"PB71E7F1E-F231-4F73-9CC8-BE8822ADD0C2",music:"P78382DEE-CC9B-4B36-BD27-809007BFF300",international:"P505182AA-1D71-49D8-8287-AA222CD05424",au:"P505182AA-1D71-49D8-8287-AA222CD05424","australia-news":"P505182AA-1D71-49D8-8287-AA222CD05424",uk:"P505182AA-1D71-49D8-8287-AA222CD05424","uk-news":"P505182AA-1D71-49D8-8287-AA222CD05424",us:"P505182AA-1D71-49D8-8287-AA222CD05424","us-news":"P505182AA-1D71-49D8-8287-AA222CD05424",world:"P505182AA-1D71-49D8-8287-AA222CD05424",politics:"P5B7468E3-CE04-40FD-9444-22FB872FE83E",careers:"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","culture-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","global-development-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","government-computing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","guardian-professional":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","healthcare-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","higher-education-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","housing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-government-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","public-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","small-business-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","social-care-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","teacher-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","voluntary-sector-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","women-in-leadership":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA",science:"PDAD6BC22-C97B-4151-956B-7F069B2C56E9",society:"P7AF4A592-96FB-4255-B33F-352406F4C7D2",sport:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",football:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",technology:"P29EF991A-3FEE-4215-9F03-58EACA8286B9",travel:"PD1CEDC3E-2653-4CB6-A4FD-8A315DE07548","tv-and-radio":"P66E48909-8FC9-49E8-A7E6-0D31C61805AD","brand-only":"P0EE0F4F4-8D7C-4082-A2A4-82C84728DC59"},Qi={shouldRun:a.a.switches.imrWorldwide,url:"//secure-dcr.imrworldwide.com/novms/js/2/ggcmb510.js",onLoad:function(){var e=a.a.page.section.toLowerCase(),t=e in Wi?e:"The Guardian - brand only",n={sfcode:"dcr",apid:Wi[e]||Wi["brand-only"],apn:"theguardian"},i=NOLCMB.getInstance(n.apid);i.ggInitialize(n);var o={type:"static",assetid:a.a.page.pageId,section:t};i.ggPM("staticstart",o)}},Yi={shouldRun:a.a.switches.imrWorldwide,url:"//secure-au.imrworldwide.com/v60.js",onLoad:function(){nol_t({cid:"au-guardian",content:"0",server:"secure-gl"}).record().post()}},Ji={shouldRun:a.a.switches.remarketing,url:"//www.googleadservices.com/pagead/conversion_async.js",onLoad:function(){window.google_trackConversion({google_conversion_id:971225648,google_custom_params:window.google_tag_params,google_remarketing_only:!0})}},Ki=!a.a.get("page.isFront")&&a.a.get("switches.simpleReach")&&a.a.get("page.isPaidContent"),Xi="";if(Ki){var Zi=a.a.get("page.author").split(","),eo=a.a.get("page.sectionName").split(","),to=a.a.get("page.keywords").split(",");window.__reach_config={pid:"58ff7f3a736b795c10004930",title:a.a.get("page.headline"),date:new Date(a.a.get("page.webPublicationDate")),authors:Zi,channels:eo,tags:to,article_id:a.a.get("page.pageId"),ignore_errors:!1},Xi="//d8rk54i4mohrb.cloudfront.net/js/reach.js"}var no={shouldRun:Ki,url:Xi},ao=n(318),io={shouldRun:a.a.get("switches.iasAdTargeting",!1),url:"//cdn.adsafeprotected.com/iasPET.1.js"},oo={shouldRun:a.a.get("switches.inizio",!1),url:"//cdn.brandmetrics.com/survey/script/e96d04c832084488a841a06b49b8fb2d.js",onLoad:function(){window._brandmetrics=window._brandmetrics||[],window._brandmetrics.push({cmd:"_querySurvey",val:{callback:function(e,t){e&&(window&&window.googletag&&window.googletag.cmd.push(function(){window.googletag.pubads().setTargeting("inizio","t")}),console.log("surveyAvailable: ".concat(t.measurementId)))}}})}},ro={shouldRun:f.a.adFree&&a.a.switches.doubleclickYoutubeAdFree,useImage:!0,url:"//pubads.g.doubleclick.net/activity;dc_iu=/".concat(a.a.page.dfpAccountId,"/DFPAudiencePixel;ord=").concat((1e13*Math.random()).toString(),";dc_seg=482549580;af=T?")},so=w.a,co={load:function(){Zt.a.write(function(){var e,t,n,i,o,r;e=a.a.page.plistaPublicApiKey,t="innerArticle",i="PLISTA_".concat(e),o=window[i],(r=Object(v.a)(".js-plista-container")).append(function(e){return'\n    <div class="PLISTA" data-ob-template="guardian">\n        <div data-display="plista_widget_'.concat(e.widgetName,'"></div>\n    </div>\n')}({widgetName:t})),r.css("display","block"),o&&o.publickey?o.widgets.push({name:t,pre:n}):(window[i]={publickey:e,widgets:[{name:t,pre:n}],geo:"au",categories:void 0,dataMode:"data-display"},Object(D.a)("//static-au.plista.com/async/".concat(i,".js")))})},init:function(){return f.a.outbrain?so.then(function(e){return!document.getElementById("dfp-ad--merchandising-high")||e}).then(function(e){if(!e)return We("dfp-ad--merchandising-high").then(function(e){e||co.load()});co.load()}):Promise.resolve(!1)}},lo=function(){var e,t=[Qi,Yi,Ji,no,ao.b,io,oo,ro,(e=Object($t.b)($t.e),{shouldRun:a.a.switches.facebookTrackingPixel&&(null==e||e),url:"https://www.facebook.com/tr?id=".concat(a.a.libs.facebookAccountId,"&ev=PageView&noscript=1"),useImage:!0})].filter(function(e){return e.shouldRun});t.length&&function(e){for(var t=document.scripts[0],n=document.createDocumentFragment();e.length;){var a=e.shift();if(a.useImage)(new Image).src=a.url;else{var i=document.createElement("script");i.src=a.url,i.onload=a.onLoad,n.appendChild(i)}}t&&t.parentNode&&t.parentNode.insertBefore(n,t)}(t)},uo=function(e){var t=e.currentTarget,n=t.parentNode,a=t.querySelector(".js-button__label");n.hasAttribute("open")?Zt.a.write(function(){a.textContent="More ".concat(t.getAttribute("data-text"))}):Zt.a.write(function(){a.textContent="Less"})},po={viewId:"unknown",tags:[],modules:[],adverts:[],baselines:[]},mo=function(e){var t=Object(o.a)();po.modules.push({name:e,start:t})},go=function(e){var t=Object(o.a)(),n=po.modules.findIndex(function(t){return t.name===e});if(-1!==n){var a=po.modules[n];a.duration=t-a.start}},fo=(Qt.a.wrap(function(){if(a.a.get("tests.commercialClientLoggingVariant")){var e={viewId:U.a.viewId,tags:po.tags,adverts:po.adverts,baselines:po.baselines,modules:(po.modules||[]).filter(function(e){return!!e.duration})};"/commercial-report",t=JSON.stringify(e),n=a.a.get("page.beaconUrl","").replace(/^\/\//,"".concat(window.location.protocol,"//"))+"/commercial-report",Object(qt.a)(n,{method:"post",header:{"Content-Type":"application/json"},body:t,mode:"cors"})}var t,n}),n(402)),ho=n(403),bo=n(211),vo=function(e){return e.includes(!0)},yo=function(e){return!e.includes(!1)},wo={isOutbrainDisabled:function(){return f.a.outbrain?Promise.resolve(!1):Promise.resolve(!0)},isUserInContributionsAbTest:function(){return Object(se.b)().then(Boolean)},isUserNotInContributionsAbTest:function(){return Object(R.c)("isUserInContributionsAbTest").then(function(e){return!e})},emailCanRunPreCheck:function(){return Promise.resolve(Object(fo.a)())},listCanRun:function(){var e=Object(ho.a)(),t=!!Object.keys(e).find(function(t){return Object(fo.c)(e[t])});return Promise.resolve(t)},emailInArticleOutbrainEnabled:function(){return Promise.resolve(a.a.get("switches.emailInArticleOutbrain"))},hasHighPriorityAdLoaded:function(){return f.a.thirdPartyTags&&f.a.highMerch?Promise.resolve(We("dfp-ad--merchandising-high")):Promise.resolve(!1)},hasLowPriorityAdLoaded:function(){return f.a.thirdPartyTags?Object(R.c)("hasHighPriorityAdLoaded").then(function(e){return e?Promise.resolve(We("dfp-ad--merchandising")):Promise.resolve(!0)}):Promise.resolve(!1)},hasLowPriorityAdNotLoaded:function(){return Object(R.c)("hasLowPriorityAdLoaded").then(function(e){return!e})},isStoryQuestionsOnPage:function(){return Promise.resolve(document.querySelectorAll(".js-ask-question-link").length>0)},isOutbrainBlockedByAds:function(){var e=[Object(R.c)("hasHighPriorityAdLoaded"),Object(R.c)("hasLowPriorityAdLoaded")];return Promise.all(e).then(function(e){return yo(e)})},isOutbrainMerchandiseCompliant:function(){var e=[Object(R.c)("hasHighPriorityAdLoaded"),Object(R.c)("hasLowPriorityAdNotLoaded")];return Promise.all(e).then(function(e){return yo(e)})},isOutbrainMerchandiseCompliantOrBlockedByAds:function(){var e=[Object(R.c)("isOutbrainMerchandiseCompliant"),Object(R.c)("isOutbrainBlockedByAds")];return Promise.all(e).then(function(e){return vo(e)})},emailCanRun:function(){var e=[Object(R.c)("emailCanRunPreCheck"),Object(R.c)("listCanRun"),Object(R.c)("emailInArticleOutbrainEnabled"),Object(R.c)("isUserNotInContributionsAbTest")];return Promise.all(e).then(function(e){return yo(e)})},emailCanRunPostCheck:function(){var e=[Object(R.c)("isUserInEmailAbTest"),Object(R.c)("isOutbrainMerchandiseCompliantOrBlockedByAds"),Object(R.c)("isOutbrainDisabled"),Object(R.c)("isStoryQuestionsOnPage")];return Promise.all(e).then(function(e){return vo(e)})}},ko=function(e,t,n){var i=function(e){var t=e?{desktop:[u.halfPage,u.skyscraper]}:{},n=g("comments",{sizes:t});return n.forEach(function(e){e.classList.add("js-sticky-mpu")}),n}(n);return s.a.write(function(){return e.addClass("discussion__ad-wrapper"),a.a.get("page.isLiveBlog")||a.a.get("page.isMinuteArticle")||e.addClass("discussion__ad-wrapper-wider"),i.forEach(function(e){t.append(e)}),i[0]}).then(function(e){Ue(e,!1),Promise.resolve(y.a.emit("page:commercial:comments"))})},_o=function(e,t){var n=Object(v.a)(".js-ad-slot",t),a=ze("dfp-ad--comments");a&&n.length&&Ge(function(e,t){return function(e){return e.sizes.desktop.some(function(e){return 300===e[0]&&600===e[1]}||function(e){return 160===e[0]&&600===e[1]})}(e)||(e.sizes.desktop.push([300,600],[160,600]),e.slot.defineSizeMapping([[[0,0],e.sizes.desktop]]),s.a.write(function(){t[0].setAttribute("data-desktop","1,1|2,2|300,250|300,274|fluid|300,600|160,600")})),e}(a,n)),a||ko(e,t,!0)};n.d(t,"bootCommercial",function(){return Po});var Co=[["cm-adFreeSlotRemove",pt],["cm-closeDisabledSlots",ct],["cm-prepare-cmp",function(){if(window[ht.a]){var e=(window[ht.a]||{}).commandQueue,t=void 0===e?[]:e,n=Object(se.d)(ft.a,"variant"),a=Gt(n),i=new zt(a);window[ht.a]=i.processCommand,i.commandQueue=t,i.isLoaded=!0,i.notify("isLoaded"),i.processCommandQueue(),i.cmpReady=!0,i.notify("cmpReady"),n&&vt.info("CMP customise is ACTIVE")}}],["cm-track-cmp-consent",function(){if(n=1===Object(ce.i)(1,100),a.a.get("switches.commercialPageViewAnalytics")&&(n||a.a.get("page.isDev"))){var e=a.a.get("ophan.pageViewId"),t=window[ht.a];e&&t&&t("getConsentData",[],function(t){var n,i;n=function(e,t){return{pv:t,cs:e.consentData,cc:Object($t.b)($t.e)}}(t,e),i="".concat(a.a.get("page.ajaxUrl",""),"/commercial/api/pv"),Object(qt.a)(i,{method:"post",body:JSON.stringify(n),mode:"cors"})})}var n}],["cm-thirdPartyTags",function(){return f.a.thirdPartyTags?(f.a.adFree||(e=Sn()($i.a),t=function(t,n){var i;(i=a.a.page.seriesId||a.a.page.blogIds?".js-outbrain-anchor":".js-related, .js-outbrain-anchor",Promise.resolve(document.querySelector(i))).then(function(n){return s.a.write(function(){Object(v.a)(n).after(e({widgetType:t}))})}).then(n)},a.a.switches.plistaForOutbrainAu&&"au"===a.a.page.edition.toLowerCase()?t("plista",co.init):t("outbrain",Y)),lo(),Promise.resolve(!0)):Promise.resolve(!1);var e,t}],["cm-prepare-prebid",function(e,t){return e(),on().then(t),Promise.resolve()},!0],["cm-prepare-googletag",function(e,t){return f.a.dfpAdvertising?((e(),window.googletag.cmd.push(ji,Pi,Oi,xi,$a,function(){rn().then(t)}),Object(D.a)(a.a.get("libs.googletag"),{async:!1})).then(pt).catch(Bi),Promise.resolve()):Bi().then(t)},!0],["cm-checkDispatcher",function(){Object.keys(wo).forEach(function(e){bo.a.includes(e)&&Object(R.b)(e,wo[e]())})}],["cm-lotame-cmp",function(){return"LOTCC"in window&&"setConsent"in window.LOTCC&&new Promise(function(e,t){"__cmp"in window?window.__cmp("getVendorConsents",[95],function(n,a){return a?e(n):t(Error("Error calling getVendorConsents"))}):t(Error("__cmp does not exist on the window"))}).then(Ht).then(function(e){if(!!Vt.a.get("lotameConsent")!==e)return window.LOTCC.setConsent(function(e){return function(t){"error"in t?Nt(!1):"consent"in t&&Nt(e)}}(e),12666,function(e){return{analytics:e,crossdevice:e,datasharing:e,targeting:e}}(e))}).catch(function(e){return console.error("Error with lotame initialisation: ".concat(e.toString()))}),Promise.resolve()}],["cm-lotame-data-extract",function(e){return e(),function(){var e=a.a.get("page.edition");return a.a.get("switches.lotame",!1)&&("UK"===e||"INT"===e)}?Object(D.a)("//ad.crwdcntrl.net/5/c=13271/pe=y/var=OzoneLotameData").then(function(){if(!("LOTCC"in window&&"bcp"in window.LOTCC))return Promise.reject(Error("No LOTCC in window"));Promise.resolve(window.LOTCC.bcp())}).catch(Ut):Promise.resolve()},!0]];f.a.adFree||Co.push(["cm-prepare-adverification",function(e){var t="clarium.global.ssl.fastly.net";return e(),Object(se.d)(Wt.a,"variant")?(window._clrm=window._clrm||{},window._clrm.gpt={propertyId:"qE4aQtYj644UghGyTZsDnq5Qh_A",confiantCdn:t,mapping:"W3siaSI6MiwidCI6Int7b319Ont7d319eHt7aH19IiwicCI6MCwiRCI6MSwiciI6W119XQ==",activation:"|||MjIxNzg5NDY2OQ==,|||MjE4NTM0MTI3,|||MjE5NzUwMDg3,|||MjM0ODc4NzI3,|||MzcxNjYwOTY3",callback:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("w00t one more bad ad nixed.",t)}},Object(D.a)("//".concat(t,"/gpt/a/wrap.js"),{async:!0})):Promise.resolve()},!0],["cm-highMerch",function(){if(f.a.highMerch){var e=a.a.get("page.commentable")?"#comments + *":".content-footer > :first-child",t=document.querySelector(e),n=document.createElement("div");return n.className="fc-container fc-container--commercial",g(a.a.get("page.isPaidContent")?"high-merch-paid":"high-merch").forEach(function(e){n.appendChild(e)}),s.a.write(function(){t&&t.parentNode&&t.parentNode.insertBefore(n,t)})}return Promise.resolve()}],["cm-articleAsideAdverts",function(e,t){e();var n=Object(v.a)(".js-secondary-column");if(!n.length||"none"===n.css("display"))return t(),Promise.resolve(!1);var i=Object(v.a)(".js-content-main-column"),o=Object(v.a)(".js-ad-slot",n),r=Object(v.a)(".element--immersive",i);return o.length&&i.length?s.a.read(function(){return[i.dim().height,r.offset().top-i.offset().top]}).then(function(e){var t=b()(e,2),n=t[0],i=t[1];return a.a.get("page.hasShowcaseMainElement",!1)?o[0]:a.a.get("page.isImmersive")&&r.length>0?s.a.write(function(){var e;return o.removeClass("right-sticky js-sticky-mpu is-sticky"),o[0].setAttribute("data-mobile",(e=i)>600?"1,1|2,2|300,250|300,274|300,600|fluid":e>274?"1,1|2,2|300,250|300,274":e>250?"1,1|2,2|300,250":"1,1|2,2"),o[0]}):n<1300?s.a.write(function(){return o.removeClass("right-sticky js-sticky-mpu is-sticky"),o[0].setAttribute("data-mobile","1,1|2,2|300,250|300,274|fluid"),o[0]}):o[0]}).then(function(e){return t(),y.a.emit("page:defaultcommercial:right",e),!0}):(t(),Promise.resolve(!1))},!0],["cm-articleBodyAdverts",function(e,t){if(e(),!f.a.articleBodyAdverts)return t(),Promise.resolve(!1);var n,i=a.a.get("page.hasInlineMerchandise")?(n={bodySelector:".js-article__body",slotSelector:" > p",minAbove:300,minBelow:0,selectors:{" > .merch":{minAbove:0,minBelow:0}," > header":{minAbove:Object(w.m)({max:"tablet"})?300:700,minBelow:0}," > h2":{minAbove:100,minBelow:250}," .ad-slot":et," > :not(p):not(h2):not(.ad-slot)":{minAbove:200,minBelow:400}}},k.a.fillSpace(n,function(e){return tt(e[0],"im","im").then(function(){return!0})},{waitForImages:!0,waitForLinks:!0,waitForInteractives:!0})):Promise.resolve(!1);return i.then(function(e){return e?We("dfp-ad--im"):Promise.resolve()}).then(Xe).then(it).then(t),i},!0],["cm-liveblogAdverts",function(e,t){return e(),f.a.liveblogAdverts?(s.a.read(function(){return fi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.documentElement&&e.documentElement.clientHeight?e.documentElement.clientHeight:0}()}).then(Ii).then(Si).then(t),Promise.resolve()):(t(),Promise.resolve())},!0],["cm-stickyTopBanner",function(){return f.a.stickyTopBannerAd?(yi=document.getElementById(Mi))&&Object(w.m)({min:"desktop"})?(bi=document.getElementById("header"),_i=yi.parentNode,s.a.read(function(){return bi&&(vi=bi.getBoundingClientRect().height),yi&&yi.getBoundingClientRect().height||0}).then(function(e){return Promise.all([Ri(e),Fi()])}).then(Vi).then(Hi)):(yi=null,Promise.resolve()):Promise.resolve()}],["cm-paidContainers",function(){var e,t=rt()(".dumathoin-more > summary");return ia.a.on(document,"click",t,uo),ia.a.on(document,"click",t,(e=uo,function(t){32!==t.keyCode&&13!==t.keyCode||e(t)})),Promise.resolve()}],["cm-paidforBand",function(){if(!f.a.paidforBand)return Promise.resolve(!1);var e=document.querySelector(".paidfor-band");return e&&new pn.a(e).init(),Promise.resolve(!0)}],["cm-commentAdverts",function(){var e=Object(v.a)(".js-discussion__ad-slot");return f.a.commentAdverts&&e.length?(y.a.once("modules:comments:renderComments:rendered",function(){var t=Object(sn.m)(),n=Object(v.a)(".js-comments .content__main-column");s.a.read(function(){return n.dim().height}).then(function(a){a>=800||t&&a>=600?ko(n,e,!0):t&&ko(n,e,!1),y.a.on("discussion:comments:get-more-replies",function(){_o(n,e)})})}),Promise.resolve(!0)):Promise.resolve(!1)}]);var jo=function(){po.baselines.push({name:"primary",startTime:Object(o.a)()});var e=[];return Co.forEach(function(t){var n=t[0],a=t[1],o=t[2];Object(i.b)([[n,function(){var t,i,r,s,c,d=(o?(i=a,r=[mo.bind(null,t=n),go.bind(null,t)],s=r[0],c=r[1],function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=i.apply(void 0,[s,c].concat(t));return a instanceof Promise?a.catch(function(e){throw c(),e}):a}catch(e){throw c(),e}}):function(e,t){var n=[mo.bind(null,e),go.bind(null,e)],a=n[0],i=n[1];return function(){a();try{var e=t.apply(void 0,arguments);return e instanceof Promise?e.then(function(e){return i(),e},function(e){throw i(),e}):(i(),e)}catch(e){throw i(),e}}}(n,a))();e.push(d)}]])}),Promise.all(e).then(function(){po.baselines.forEach(function(e){"primary"===e.name&&(e.endTime=Object(o.a)())})})},Po=function(){return Object(o.c)("commercial start"),Object(i.b)([["ga-user-timing-commercial-start",function(){Object(Qa.d)("Javascript Load","commercialStart","Commercial start parse time")}]]),window.googletag={cmd:[]},(a.a.get("page.isHosted")?new Promise(function(e){n.e(12).then(function(t){var a=n(614),i=n(635),o=n(615),r=n(506),s=n(616);Co.push(["cm-hostedAbout",a.init],["cm-hostedVideo",i.initHostedVideo,!0],["cm-hostedGallery",o.init],["cm-hostedOnward",s.loadOnwardComponent,!0],["cm-hostedOJCarousel",r.initHostedCarousel]),e()}.bind(null,n)).catch(n.oe)}):Promise.resolve()).then(jo).then(function(){Object(o.c)("commercial end"),Object(i.b)([["ga-user-timing-commercial-end",function(){Object(Qa.d)("Javascript Load","commercialEnd","Commercial end parse time")}]])}).catch(function(e){Object(r.a)(e,{feature:"commercial"})})}}}]);
//# sourceMappingURL=graun.commercial.js.map